<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="Config çš„ Github é¡µé¢ Readme å¯¹ Config æè¿°å¦‚ä¸‹ï¼š  Spring Cloud Config provides server-side and client-side support for externalized configuration in a distributed system. With the Config Server, you have a ce">
<meta property="og:type" content="article">
<meta property="og:title" content="é…ç½®ä¸­å¿ƒ-Config">
<meta property="og:url" content="https://blog.futurenotfound.top/2019/08/05/Spring-Cloud-Greenwich-SR2-4/index.html">
<meta property="og:site_name" content="FutureNotFound">
<meta property="og:description" content="Config çš„ Github é¡µé¢ Readme å¯¹ Config æè¿°å¦‚ä¸‹ï¼š  Spring Cloud Config provides server-side and client-side support for externalized configuration in a distributed system. With the Config Server, you have a ce">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2019-08-05T01:45:17.000Z">
<meta property="article:modified_time" content="2021-07-20T22:29:57.827Z">
<meta property="article:author" content="maozhijie">
<meta property="article:tag" content="Git">
<meta property="article:tag" content="Spring Cloud Config">
<meta property="article:tag" content="Spring Boot Actuator">
<meta name="twitter:card" content="summary">
    
    
        
          
              <link rel="shortcut icon" href="/images/avatar.png">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/avatar.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/avatar.png">
          
        
    
    <!-- title -->
    <title>é…ç½®ä¸­å¿ƒ-Config</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
      
<link rel="stylesheet" href="/css/rtl.css">

    
    <!-- rss -->
    
    
      <link rel="alternate" href="/true" title="FutureNotFound" type="application/atom+xml" />
    
    
      <script>
          (function(d) {
            var config = {
              kitId: 'twa1wya',
              scriptTimeout: 3000,
              async: true
            },
            h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
          })(document);
      </script>
    
    <!-- Google Adsense -->
    
            <script data-ad-client="ca-pub-8520855660949547" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    
<meta name="generator" content="Hexo 5.4.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        
          <li><a href="/">é¦–é¡µ</a></li>
        
          <li><a href="/archives/">å½’æ¡£</a></li>
        
          <li><a href="/categories/">åˆ†ç±»</a></li>
        
          <li><a href="/friends/">å‹é“¾</a></li>
        
          <li><a href="/about/">å…³äº</a></li>
        
          <li><a href="/search/">æœç´¢</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2019/08/05/Spring-Cloud-Greenwich-SR2-5/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2019/07/25/Spring-Cloud-Greenwich-SR2-3/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <!-- <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li> -->
      </ul>
      <span id="i-prev" class="info" style="display:none;">ä¸Šä¸€ç¯‡</span>
      <span id="i-next" class="info" style="display:none;">ä¸‹ä¸€ç¯‡</span>
      <span id="i-top" class="info" style="display:none;">è¿”å›é¡¶éƒ¨</span>
      <span id="i-share" class="info" style="display:none;">åˆ†äº«æ–‡ç« </span>
    </span>
    <br/>
    <div id="toc-div" class="toc-article" >
        
          <div id="toc">
            <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA-Config-%E9%A1%B9%E7%9B%AE"><span class="toc-number">1.</span> <span class="toc-text">åˆ›å»º Config é¡¹ç›®</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E7%94%9F%E4%BA%A7%E8%80%85%E8%8E%B7%E5%8F%96%E5%A4%96%E9%83%A8%E9%85%8D%E7%BD%AE"><span class="toc-number">1.1.</span> <span class="toc-text">æœåŠ¡ç”Ÿäº§è€…è·å–å¤–éƒ¨é…ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E5%88%B7%E6%96%B0%E5%A4%96%E9%83%A8%E9%85%8D%E7%BD%AE"><span class="toc-number">1.1.1.</span> <span class="toc-text">åŠ¨æ€åˆ·æ–°å¤–éƒ¨é…ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E7%94%9F%E4%BA%A7%E8%80%85%E9%9B%86%E7%BE%A4%E5%88%B7%E6%96%B0%E5%A4%96%E9%83%A8%E9%85%8D%E7%BD%AE"><span class="toc-number">1.1.1.1.</span> <span class="toc-text">æœåŠ¡ç”Ÿäº§è€…é›†ç¾¤åˆ·æ–°å¤–éƒ¨é…ç½®</span></a></li></ol></li></ol></li></ol></li></ol>
          </div>
        
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
        
    <h1 class="posttitle" itemprop="name headline">
        é…ç½®ä¸­å¿ƒ-Config
    </h1>



        <div class="meta">
            
    <div class="postdate">
      
        <time datetime="2019-08-05T01:45:17.000Z" itemprop="datePublished">2019-08-05</time>
        
      
    </div>


            
    <div class="article-category">
<!--        <i class="fas fa-archive"></i>-->
        <a class="category-link" href="/categories/Java/">Java</a> â€º <a class="category-link" href="/categories/Java/Spring/">Spring</a> â€º <a class="category-link" href="/categories/Java/Spring/Spring-Cloud/">Spring Cloud</a>
    </div>


            
    <div class="article-tag">
<!--        <i class="fas fa-tag"></i>-->
        <a class="tag-link-link" href="/tags/Git/" rel="tag">Git</a>, <a class="tag-link-link" href="/tags/Spring-Boot-Actuator/" rel="tag">Spring Boot Actuator</a>, <a class="tag-link-link" href="/tags/Spring-Cloud-Config/" rel="tag">Spring Cloud Config</a>
    </div>


            
    <div class="article-count">
        <span id="/2019/08/05/Spring-Cloud-Greenwich-SR2-4/" class="leancloud_visitors" data-flag-title="é…ç½®ä¸­å¿ƒ-Config">
            <span class="post-meta-item-text">æµè§ˆé‡</span>
            <span class="leancloud-visitors-count">0</span>
        </span>
    </div>

            
    <div class="wordcount-symbols">
      
        <span>å­—æ•°</span>
        <span>12k</span>
      
    </div>
    <div class="wordcount-time">
      
        <span>é˜…è¯»æ—¶é—´</span>
        <span>23 åˆ†é’Ÿ</span>
      
    </div>


        </div>
    </header>
    

    <div class="content" itemprop="articleBody">
        

    <div id="toc" class="toc-article">
        <strong class="toc-title">ç›®å½•</strong>
        <div class="toc-content">
            <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA-Config-%E9%A1%B9%E7%9B%AE"><span class="toc-number">1.</span> <span class="toc-text">åˆ›å»º Config é¡¹ç›®</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E7%94%9F%E4%BA%A7%E8%80%85%E8%8E%B7%E5%8F%96%E5%A4%96%E9%83%A8%E9%85%8D%E7%BD%AE"><span class="toc-number">1.1.</span> <span class="toc-text">æœåŠ¡ç”Ÿäº§è€…è·å–å¤–éƒ¨é…ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E5%88%B7%E6%96%B0%E5%A4%96%E9%83%A8%E9%85%8D%E7%BD%AE"><span class="toc-number">1.1.1.</span> <span class="toc-text">åŠ¨æ€åˆ·æ–°å¤–éƒ¨é…ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E7%94%9F%E4%BA%A7%E8%80%85%E9%9B%86%E7%BE%A4%E5%88%B7%E6%96%B0%E5%A4%96%E9%83%A8%E9%85%8D%E7%BD%AE"><span class="toc-number">1.1.1.1.</span> <span class="toc-text">æœåŠ¡ç”Ÿäº§è€…é›†ç¾¤åˆ·æ–°å¤–éƒ¨é…ç½®</span></a></li></ol></li></ol></li></ol></li></ol>
        </div>
    </div>

<hr/>
        <p>Config çš„ Github é¡µé¢ Readme å¯¹ Config æè¿°å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>Spring Cloud Config provides server-side and client-side support for externalized configuration in a distributed system. With the Config Server, you have a central place to manage external properties for applications across all environments. The concepts on both client and server map identically to the Spring Environment and PropertySource abstractions, so they fit very well with Spring applications but can be used with any application running in any language. As an application moves through the deployment pipeline from dev to test and into production, you can manage the configuration between those environments and be certain that applications have everything they need to run when they migrate. The default implementation of the server storage backend uses git, so it easily supports labelled versions of configuration environments as well as being accessible to a wide range of tooling for managing the content. It is easy to add alternative implementations and plug them in with Spring configuration.</p>
</blockquote>
<blockquote>
<p>Spring Cloud Config ä¸ºåˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„å¤–éƒ¨åŒ–é…ç½®æä¾›æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯æ”¯æŒã€‚ä½¿ç”¨ Config Serverï¼Œæ‚¨å¯ä»¥åœ¨æ‰€æœ‰ç¯å¢ƒä¸­ç®¡ç†åº”ç”¨ç¨‹åºçš„å¤–éƒ¨å±æ€§ã€‚å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¸Šçš„æ¦‚å¿µæ˜ å°„ä¸ Spring Environment å’Œ PropertySource æŠ½è±¡ï¼Œå› æ­¤å®ƒä»¬éå¸¸é€‚åˆ Spring åº”ç”¨ç¨‹åºï¼Œä½†å¯ä»¥ä¸ä»»ä½•è¯­è¨€è¿è¡Œçš„ä»»ä½•åº”ç”¨ç¨‹åºä¸€èµ·ä½¿ç”¨ã€‚å½“åº”ç”¨ç¨‹åºé€šè¿‡éƒ¨ç½²ç®¡é“ä»å¼€å‘åˆ°æµ‹è¯•å†åˆ°ç”Ÿäº§æ—¶ï¼Œæ‚¨å¯ä»¥ç®¡ç†è¿™äº›ç¯å¢ƒä¹‹é—´çš„é…ç½®ï¼Œå¹¶ç¡®ä¿åº”ç”¨ç¨‹åºå…·æœ‰è¿ç§»æ—¶éœ€è¦è¿è¡Œçš„æ‰€æœ‰å†…å®¹ã€‚æœåŠ¡å™¨å­˜å‚¨åç«¯çš„é»˜è®¤å®ç°ä½¿ç”¨ gitï¼Œå› æ­¤å®ƒå¯ä»¥è½»æ¾æ”¯æŒé…ç½®ç¯å¢ƒçš„æ ‡ç­¾ç‰ˆæœ¬ï¼Œä»¥åŠå¯ç”¨äºç®¡ç†å†…å®¹çš„å„ç§å·¥å…·ã€‚æ·»åŠ æ›¿ä»£å®ç°å¹¶ä½¿ç”¨ Spring é…ç½®æ’å…¥å®ƒä»¬å¾ˆå®¹æ˜“ã€‚</p>
</blockquote>
<p>ç®€å•æ¥è®²ï¼ˆä»åå­—çœ‹ï¼‰å®˜æ–¹å¯¹ Config çš„å®šä½æ˜¯<strong>å¤–éƒ¨åŒ–é…ç½®æ”¯æŒ</strong>ã€‚</p>
<span id="more"></span>

<h1 id="åˆ›å»º-Config-é¡¹ç›®"><a href="#åˆ›å»º-Config-é¡¹ç›®" class="headerlink" title="åˆ›å»º Config é¡¹ç›®"></a>åˆ›å»º Config é¡¹ç›®</h1><p>åˆ›å»º config é¡¹ç›®ä¾èµ–ç»§æ‰¿ config-server é¡¹ç›®ï¼Œpom.xml æ–‡ä»¶å¦‚ä¸‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.liuzhuoming23<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>config-center<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>config<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>config<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">description</span>&gt;</span>Demo project for Spring Cloud<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-config-server<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>application.yml é…ç½®ä¸ºï¼š</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8040</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">@pom.artifactId@</span></span><br><span class="line">  <span class="attr">cloud:</span></span><br><span class="line">    <span class="attr">config:</span></span><br><span class="line">      <span class="attr">server:</span></span><br><span class="line">        <span class="attr">git:</span></span><br><span class="line">          <span class="comment">#å­˜æ”¾é…ç½®æ–‡ä»¶çš„gitä»“åº“åœ°å€</span></span><br><span class="line">          <span class="attr">uri:</span> <span class="string">https://gitee.com/liuzhuoming23/config-repo</span></span><br><span class="line">          <span class="comment">#é…ç½®æ–‡ä»¶çš„å­˜æ”¾è·¯å¾„ï¼ˆå¯ä»¥æ ¹æ®ç›®å½•åå­˜æ”¾ä¸åŒé¡¹ç›®çš„é…ç½®æ–‡ä»¶ï¼‰</span></span><br><span class="line">          <span class="attr">search-paths:</span> <span class="string">config</span></span><br><span class="line">          <span class="comment">#gitè´¦å·å¯†ç ï¼Œå…¬å…±ä»“åº“ä¸éœ€è¦é…ç½®</span></span><br><span class="line">          <span class="attr">username:</span></span><br><span class="line">          <span class="attr">password:</span></span><br></pre></td></tr></table></figure>

<p><em>å› ä¸ºè¿æ¥é€Ÿåº¦åŸå› ï¼Œè¿™é‡Œé€‰æ‹©äº† gitee ä½œä¸ºé…ç½®ä»“åº“ã€‚</em><br>ConfigApplication å¯åŠ¨ç±»æ·»åŠ  EnableConfigServer æ³¨è§£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.gihub.liuzhuoming23.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.cloud.config.server.EnableConfigServer;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¯åŠ¨ç±»</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> x-047</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EnableConfigServer</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConfigApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(ConfigApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>git ä»“åº“çš„é¡¹ç›®ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">config</span><br><span class="line">        â””â”€producer-client-dev.yml</span><br><span class="line">        â””â”€producer-client-test.yml</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ producer-client-dev.yml æ–‡ä»¶å†…å®¹ä¸ºï¼š</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">config:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">ğŸºğŸğŸ®ğŸºğŸ</span></span><br></pre></td></tr></table></figure>

<p>producer-client-test.yml æ–‡ä»¶å†…å®¹ä¸ºï¼š</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">config.name:</span> <span class="string">ğŸºğŸğŸºğŸğŸ®ğŸº</span></span><br></pre></td></tr></table></figure>

<p>å¯åŠ¨é¡¹ç›®ï¼Œè®¿é—®<a target="_blank" rel="noopener" href="http://localhost:8040/producer-client/dev">http://localhost:8040/producer-client/dev</a>ï¼Œè¿”å›ç»“æœï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;producer-client&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;profiles&quot;</span>: [<span class="string">&quot;dev&quot;</span>],</span><br><span class="line">  <span class="attr">&quot;label&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">&quot;version&quot;</span>: <span class="string">&quot;0c998449b05236b778b072ec7bd28d1f09cfc5a1&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;state&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">&quot;propertySources&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;https://gitee.com/liuzhuoming23/config-repo/config/producer-client-dev.yml&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;source&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;config.name&quot;</span>: <span class="string">&quot;ğŸºğŸğŸ®ğŸºğŸ&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è®¿é—®<a target="_blank" rel="noopener" href="http://localhost:8040/producer-client/test">http://localhost:8040/producer-client/test</a>ï¼Œè¿”å›ç»“æœï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;producer-client&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;profiles&quot;</span>: [<span class="string">&quot;test&quot;</span>],</span><br><span class="line">  <span class="attr">&quot;label&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">&quot;version&quot;</span>: <span class="string">&quot;a124d99007d7ad0c849878ee1d8e9624a77368c3&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;state&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">&quot;propertySources&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;https://gitee.com/liuzhuoming23/config-repo/config/producer-client-test.yml&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;source&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;config.name&quot;</span>: <span class="string">&quot;ğŸºğŸğŸºğŸğŸ®ğŸº&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¯´æ˜é¡¹ç›®é…ç½®æˆåŠŸã€‚<br><em>å¯ä»¥çœ‹å‡ºè¯»å–å“ªä¸ªæ–‡ä»¶çš„é…ç½®æ˜¯æ ¹æ® url çš„åé¢ä¸¤æ®µæ¥åŒ¹é…çš„ï¼Œ<code>http://localhost:8040/producer-client/test</code>åŒ¹é…<code>producer-client-test</code>ï¼Œ<code>http://localhost:8040/producer-client/dev</code>åŒ¹é…<code>producer-client-dev</code>ï¼Œå’Œ spring çš„ profiles ååˆ†ç±»ä¼¼ï¼Œå®é™…ä¸Šåœ¨æœ¬ doom é‡Œé¢å°±æ˜¯å½“æˆ profiles æ¥ä½¿ç”¨çš„ï¼Œproducer-client ä¸ºæœåŠ¡åï¼Œtest/dev ä¸º profilesã€‚</em></p>
<h2 id="æœåŠ¡ç”Ÿäº§è€…è·å–å¤–éƒ¨é…ç½®"><a href="#æœåŠ¡ç”Ÿäº§è€…è·å–å¤–éƒ¨é…ç½®" class="headerlink" title="æœåŠ¡ç”Ÿäº§è€…è·å–å¤–éƒ¨é…ç½®"></a>æœåŠ¡ç”Ÿäº§è€…è·å–å¤–éƒ¨é…ç½®</h2><p>ä¿®æ”¹ config é¡¹ç›®çš„ pom.xml æ–‡ä»¶ï¼Œæ·»åŠ  spring-cloud-starter-netflix-eureka-client ä¾èµ–ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.liuzhuoming23<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>config-center<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>config<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>config<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">description</span>&gt;</span>Demo project for Spring Cloud<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-config-server<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-eureka-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç„¶åæŠŠ config æœåŠ¡æ³¨å†Œåˆ° eurekaï¼Œå³ä¿®æ”¹ application.yml ä¸ºï¼š</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8040</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">@pom.artifactId@</span></span><br><span class="line">  <span class="attr">cloud:</span></span><br><span class="line">    <span class="attr">config:</span></span><br><span class="line">      <span class="attr">server:</span></span><br><span class="line">        <span class="attr">git:</span></span><br><span class="line">          <span class="attr">uri:</span> <span class="string">https://gitee.com/liuzhuoming23/config-repo</span></span><br><span class="line">          <span class="attr">search-paths:</span> <span class="string">config</span></span><br><span class="line">          <span class="attr">username:</span></span><br><span class="line">          <span class="attr">password:</span></span><br><span class="line"></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://admin:admin@localhost:8000/eureka/</span></span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨ producer-client é¡¹ç›®çš„ pom.xml æ·»åŠ  spring-cloud-starter-config ä¾èµ–ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.liuzhuoming23<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>server-center<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>producer-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>producer-client<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">description</span>&gt;</span>Demo project for Spring Cloud<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-eureka-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-config<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>åœ¨ application.xml åŒçº§æ–°å»º bootstrap.yml æ–‡ä»¶ï¼Œå¹¶æ·»åŠ å†…å®¹ï¼š</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">cloud:</span></span><br><span class="line">    <span class="attr">config:</span></span><br><span class="line">      <span class="comment">#æœåŠ¡åç§°</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">producer-client</span></span><br><span class="line">      <span class="comment">#profiles</span></span><br><span class="line">      <span class="attr">profile:</span> <span class="string">dev</span></span><br><span class="line">      <span class="comment">#åˆ†æ”¯/tag</span></span><br><span class="line">      <span class="attr">label:</span> <span class="string">master</span></span><br><span class="line">      <span class="attr">discovery:</span></span><br><span class="line">        <span class="comment">#æ˜¯å¦ä»æ³¨å†Œä¸­å¿ƒè·å–é…ç½®æœåŠ¡</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">        <span class="comment">#é…ç½®æœåŠ¡åç§°</span></span><br><span class="line">        <span class="attr">service-id:</span> <span class="string">config</span></span><br><span class="line"></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">instance:</span></span><br><span class="line">    <span class="attr">hostname:</span> <span class="string">localhost</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://admin:admin@localhost:8000/eureka/</span></span><br></pre></td></tr></table></figure>

<p><em>æ³¨æ„è¿™é‡Œçš„æœåŠ¡åç§°ä¸èƒ½æ˜¯@pom.artifactId@è¿™ç§ä» pom.xml ä¸­è·å–å‚æ•°å€¼çš„æ–¹å¼ï¼Œå¿…é¡»é…ç½®å®Œæ•´çš„é¡¹ç›®åç§°ã€‚è¿™ä¸ bootstrap.xml å’Œ application.xml çš„åŠ è½½æ—¶æœºæœ‰å…³ï¼Œä¸åœ¨æ­¤èµ˜è¿°ï¼Œæœ‰å…´è¶£è‡ªè¡Œäº†è§£ã€‚</em><br>ä¿®æ”¹ application.yml ä¸ºï¼š</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8010</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">@pom.artifactId@</span></span><br></pre></td></tr></table></figure>

<p>åœ¨ controller.PortController ç±»æ·»åŠ å¯ä»é…ç½®ä¸­å¿ƒè·å–çš„é”®åç§°ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.github.liuzhuoming23.producerclient.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Value;</span><br><span class="line"><span class="keyword">import</span> org.springframework.cloud.context.config.annotation.RefreshScope;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PathVariable;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * port</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> liuzhuoming</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;port&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PortController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;server.port:0&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Integer port;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;config.name:default&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String config;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;&#123;name&#125;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">port</span><span class="params">(<span class="meta">@PathVariable</span> String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> config + <span class="string">&quot; | &quot;</span> + name + <span class="string">&quot;: client port | &quot;</span> + port;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æŒ‰ç…§ eureka-&gt;config-&gt;producer-client çš„é¡ºåºå¯åŠ¨é¡¹ç›®ï¼Œå¹¶è®¿é—®<a target="_blank" rel="noopener" href="http://localhost:8010/port/test">http://localhost:8010/port/test</a>ï¼Œè¿”å›ç»“æœï¼š<br><code>ğŸºğŸğŸ®ğŸºğŸ | test: client port | 8010</code><br>è¯´æ˜æœåŠ¡ç”Ÿäº§è€…å·²ç»ä»é…ç½®ä¸­å¿ƒè·å–åˆ°äº†é…ç½®ã€‚</p>
<h3 id="åŠ¨æ€åˆ·æ–°å¤–éƒ¨é…ç½®"><a href="#åŠ¨æ€åˆ·æ–°å¤–éƒ¨é…ç½®" class="headerlink" title="åŠ¨æ€åˆ·æ–°å¤–éƒ¨é…ç½®"></a>åŠ¨æ€åˆ·æ–°å¤–éƒ¨é…ç½®</h3><p>åœ¨ producer-client é¡¹ç›®çš„ controller.PortController ç±»æ·»åŠ æ·»åŠ @RefreshScope æ³¨è§£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.github.liuzhuoming23.producerclient.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Value;</span><br><span class="line"><span class="keyword">import</span> org.springframework.cloud.context.config.annotation.RefreshScope;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PathVariable;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * port</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> liuzhuoming</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;port&quot;)</span></span><br><span class="line"><span class="meta">@RefreshScope</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PortController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;server.port:0&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Integer port;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;config.name:default&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String config;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;&#123;name&#125;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">port</span><span class="params">(<span class="meta">@PathVariable</span> String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> config + <span class="string">&quot; | &quot;</span> + name + <span class="string">&quot;: client port | &quot;</span> + port;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹ application.yml ä¸ºï¼š</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8010</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">@pom.artifactId@</span></span><br><span class="line"></span><br><span class="line"><span class="attr">management:</span></span><br><span class="line">  <span class="attr">endpoints:</span></span><br><span class="line">    <span class="attr">web:</span></span><br><span class="line">      <span class="attr">exposure:</span></span><br><span class="line">        <span class="comment">#å¼€å¯actuatorç›‘æ§ï¼Œå…¶ä¸­refreshæ„æ€æ˜¯æ”¯æŒåˆ·æ–°é…ç½®</span></span><br><span class="line">        <span class="attr">include:</span> <span class="string">refresh,info,health</span></span><br></pre></td></tr></table></figure>

<p>é‡å¯ producer-client é¡¹ç›®ï¼Œå¹¶è®¿é—®<a target="_blank" rel="noopener" href="http://localhost:8010/port/test">http://localhost:8010/port/test</a>ï¼Œè¿”å›ç»“æœï¼š<br><code>ğŸºğŸğŸ®ğŸºğŸ | test: client port | 8010</code><br>ç„¶åä¿®æ”¹ git é‡Œé¢çš„ config/producer-client-dev.yml æ–‡ä»¶ä¸ºï¼š</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">config:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">ğŸºğŸğŸ™…â€</span></span><br></pre></td></tr></table></figure>

<p>åœ¨ Postman ç”¨ POST è¯·æ±‚è®¿é—®<a target="_blank" rel="noopener" href="http://localhost:8010/actuator/refresh">http://localhost:8010/actuator/refresh</a>åˆ·æ–°é…ç½®ï¼Œç„¶åå†è®¿é—®<a target="_blank" rel="noopener" href="http://localhost:8010/port/test">http://localhost:8010/port/test</a>ï¼Œè¿”å›ç»“æœï¼š<br><code>ğŸºğŸğŸ™…â€ | test: client port | 8010</code><br>è¯´æ˜åŠ¨æ€åˆ·æ–°å¤–éƒ¨é…ç½®æˆåŠŸã€‚<br><em>å¾ˆå¤šåšå®¢æœ‰è¯´åˆ°åˆ©ç”¨ git æœåŠ¡çš„ Webhook æ¥å®ç°æäº¤ git æ›´æ–°è‡ªåŠ¨åˆ·æ–°å¤–éƒ¨é…ç½®ï¼Œå…¶å®å°±æ˜¯æŠŠ<a target="_blank" rel="noopener" href="http://localhost:8010/actuator/refresh">http://localhost:8010/actuator/refresh</a>è¿™ä¸ªåˆ·æ–°åœ°å€ç»‘å®šåœ¨ WebHook ä¸Šã€‚ä¸è¿‡å› ä¸ºå†…ç½‘ doomï¼Œæ²¡åŠæ³•è¿›è¡Œæµ‹è¯•ã€‚</em></p>
<h4 id="æœåŠ¡ç”Ÿäº§è€…é›†ç¾¤åˆ·æ–°å¤–éƒ¨é…ç½®"><a href="#æœåŠ¡ç”Ÿäº§è€…é›†ç¾¤åˆ·æ–°å¤–éƒ¨é…ç½®" class="headerlink" title="æœåŠ¡ç”Ÿäº§è€…é›†ç¾¤åˆ·æ–°å¤–éƒ¨é…ç½®"></a>æœåŠ¡ç”Ÿäº§è€…é›†ç¾¤åˆ·æ–°å¤–éƒ¨é…ç½®</h4><p>å¯åŠ¨ 8010 å’Œ 8011 çš„ä¸¤ä¸ªæœåŠ¡ç”Ÿäº§è€…å®ä¾‹ï¼Œå¹¶ä¿®æ”¹ git é‡Œé¢çš„ config/producer-client-dev.yml æ–‡ä»¶ä¸ºï¼š</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">config:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">ğŸºğŸğŸºğŸ</span></span><br></pre></td></tr></table></figure>

<p>åœ¨ Postman ç”¨ POST è¯·æ±‚è®¿é—®<a target="_blank" rel="noopener" href="http://localhost:8010/actuator/refresh">http://localhost:8010/actuator/refresh</a>åˆ·æ–° 8010 ç«¯å£æœåŠ¡çš„é…ç½®ï¼Œç„¶åå†è®¿é—®<a target="_blank" rel="noopener" href="http://localhost:8010/port/test">http://localhost:8010/port/test</a>ï¼Œè¿”å›ç»“æœï¼š<br><code>ğŸºğŸğŸºğŸ | test: client port | 8011</code><br>ç„¶åå†ç›´æ¥è®¿é—®<a target="_blank" rel="noopener" href="http://localhost:8011/port/test">http://localhost:8011/port/test</a>ï¼Œè¿”å›ç»“æœï¼š<br><code>ğŸºğŸğŸ™…â€ | test: client port | 8011</code><br>å¯è§å¹¶æœªæŒ‰ç…§æœåŠ¡æ¥åˆ·æ–°æ•´ä¸ªé›†ç¾¤çš„é…ç½®ã€‚<br>ä¹‹ååœ¨ Postman ç”¨ POST è¯·æ±‚è®¿é—®<a target="_blank" rel="noopener" href="http://localhost:8011/actuator/refresh">http://localhost:8011/actuator/refresh</a>åˆ·æ–° 8011 ç«¯å£æœåŠ¡çš„é…ç½®ï¼Œç„¶åå†è®¿é—®<a target="_blank" rel="noopener" href="http://localhost:8011/port/test">http://localhost:8011/port/test</a>ï¼Œè¿”å›ç»“æœï¼š<br><code>ğŸºğŸğŸºğŸ | test: client port | 8011</code><br>å¯è§åˆ·æ–°å“ªä¸ªå®ä¾‹çš„ refresh endpointï¼Œå“ªä¸ªå®ä¾‹çš„é…ç½®æ‰ä¼šæ›´æ–°ã€‚<br><em>åœ¨é›†ç¾¤å®ä¾‹æ¯”è¾ƒå°‘çš„æ—¶å€™ä¼¼ä¹è¿˜å‡‘åˆã€‚è¦æ˜¯é›†ç¾¤å®ä¾‹æ¯”è¾ƒå¤šè¿™æ ·ä¸€ä¸ªä¸ªåˆ·æ–°é…ç½®å°±ååˆ†çš„éº»çƒ¦ï¼Œé›†ç¾¤æ‰©å¢åä¹Ÿè¦æ‰‹åŠ¨æ·»åŠ æ–°çš„åˆ·æ–°åœ°å€ï¼Œå¹¶ä¸”å› ä¸ºéœ€è¦è¯·æ±‚çš„åˆ·æ–°åœ°å€æ¯”è¾ƒå¤šï¼Œä¹Ÿå¾ˆéš¾åšåˆ°åˆ©ç”¨ git æœåŠ¡çš„ WebHook æ¥è‡ªåŠ¨åˆ·æ–°é…ç½®ï¼Œç”šè‡³æœ‰æ¼åˆ·æ–°çš„å¯èƒ½ã€‚æ‰€ä»¥ä¸å»ºè®®åœ¨çº¿ä¸ŠæœåŠ¡ä½¿ç”¨ã€‚</em><br><strong><em>è¦æ˜¯æ³¨æ„è§‚å¯Ÿï¼Œå¯ä»¥å‘ç°åœ¨ç¬¬ä¸€æ¬¡åˆ·æ–° 8010 ç«¯å£æœåŠ¡çš„æ—¶å€™è¿”å›çš„æ˜¯<code>ğŸºğŸğŸºğŸ | test: client port | 8011</code>ï¼Œè€Œå¹¶ä¸æ˜¯æˆ‘ä»¬æœŸå¾…çš„<code>ğŸºğŸğŸºğŸ | test: client port | 8010</code>ï¼Œçœ‹ä¸Šå»ä¼¼ä¹æ˜¯ config æœåŠ¡å°†åŒä¸€ä¸ªæœåŠ¡åå¯åŠ¨çš„å®ä¾‹çš„æœ¬åœ°é…ç½®ä¿å­˜åˆ°äº†åŠ¨æ€é…ç½®ä¸­ï¼Œå¹¶åœ¨åŠ¨æ€åˆ·æ–°å¤–éƒ¨é…ç½®çš„æ—¶å€™ä¸€å¹¶åˆ·æ–°åˆ°äº†å…¶ä»–å®ä¾‹çš„é…ç½®é‡Œã€‚è™½ç„¶ç›®å‰è¿˜æœªé€ æˆå½±å“ï¼Œä½†æ˜¯è¿™ä¸ªç‰¹æ€§ä¹Ÿè®¸ä¼šåœ¨æ²¡æœ‰ä½¿ç”¨æ¶ˆæ¯æ€»çº¿çš„æƒ…å†µä¸‹è®©ä¸€äº›ç±»ä¼¼äºç°åº¦æ›´æ–°çš„éœ€æ±‚å˜å¾—æ›´åŠ éš¾ä»¥å®ç°ã€‚</em></strong></p>

        
    <blockquote>
<p>æœ¬æ–‡æ˜¯maozhijieçš„åŸåˆ›æ–‡ç« ï¼Œè½¬è½½è¯·æå‰å‘ŠçŸ¥ä½œè€…å¹¶ä¸”æ ‡æ˜å‡ºå¤„ã€‚<br>å†…å®¹éµå¾ª ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™… <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">CC BY-NC-SA 4.0</a> åè®®ã€‚</p>
</blockquote>


    </div>
    
    <div class="donate">
        <hr/>
        <button class="donates-btn" onclick="show_donates()">æ‰“èµ</button>
        <div class="donate-imgs">
            
                <img class="donate-img" src="/images/wechat.jpg" alt="å¾®ä¿¡æ‰“èµ"/>
            
            
                <img class="donate-img" src="/images/alipay.jpg" alt="æ”¯ä»˜å®æ‰“èµ"/>
            
        </div>
        <script type="text/javascript">
            function show_donates() {
                $(".donate-imgs").show();
                $(".donate-imgs").css("display", "flex");
                $(".donates-btn").hide();
            }
        </script>
    </div>

</article>

    <hr/>
    <div class="post-series"><b>ç³»åˆ—æ–‡ç« </b> #Spring Cloud
        
        
            
        
            
        
            
        
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/07/25/Spring-Cloud-Greenwich-SR2-0/">
                        (1)å‰è¨€
                    </a>
                </p>
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/07/25/Spring-Cloud-Greenwich-SR2-1/">
                        (2)æ³¨å†Œä¸­å¿ƒ-Eureka
                    </a>
                </p>
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/07/25/Spring-Cloud-Greenwich-SR2-2/">
                        (3)æœåŠ¡é—´è°ƒç”¨-Feign(ğŸ¦)
                    </a>
                </p>
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/07/25/Spring-Cloud-Greenwich-SR2-3/">
                        (4)è·¯ç”±ä¸­å¿ƒ-Gateway
                    </a>
                </p>
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/08/05/Spring-Cloud-Greenwich-SR2-4/">
                        (5)é…ç½®ä¸­å¿ƒ-Config
                    </a>
                </p>
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/08/05/Spring-Cloud-Greenwich-SR2-5/">
                        (6)é…ç½®ä¸­å¿ƒ-Bus
                    </a>
                </p>
            
        
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/08/28/Spring-Cloud-Greenwich-SR2-6/">
                        (7)ç›‘æ§ä¸­å¿ƒ-Admin
                    </a>
                </p>
            
        
            
        
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/09/17/Spring-Cloud-Greenwich-SR2-7/">
                        (8)ç›‘æ§ä¸­å¿ƒ-Sleuth+Zipkin
                    </a>
                </p>
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/09/18/Spring-Cloud-Greenwich-SR2-8/">
                        (9)ç›‘æ§ä¸­å¿ƒ-Elasticsearch+Zipkin
                    </a>
                </p>
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/09/18/Spring-Cloud-Greenwich-SR2-9/">
                        (10)ç›‘æ§ä¸­å¿ƒ-HystrixDashboard+Turbine
                    </a>
                </p>
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/10/18/Spring-Cloud-Greenwich-SR2-10/">
                        (11)æˆæƒä¸­å¿ƒ-Oauth2+JWT
                    </a>
                </p>
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/10/23/Spring-Cloud-Greenwich-SR2-11/">
                        (12)æ³¨å†Œä¸­å¿ƒ/é…ç½®ä¸­å¿ƒ-Nacos
                    </a>
                </p>
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/11/13/Spring-Cloud-Greenwich-SR2-12/">
                        (13)åŠ¨æ€è·¯ç”±-Gateway
                    </a>
                </p>
            
        
            
        
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2020/01/09/Spring-Cloud-Greenwich-SR2-14/">
                        (14)æˆæƒä¸­å¿ƒ-Oauth2+JWTè¡¥å…¨
                    </a>
                </p>
            
        
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2020/02/26/Spring-Cloud-Greenwich-SR2-15/">
                        (15)æˆæƒä¸­å¿ƒ-Oauth2+JWT+HOTP(ğŸ¦)
                    </a>
                </p>
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
    </div>

<div class="pagination-index">
    
        <hr/>
        
            <a style="float:left;" href="/2019/08/05/Spring-Cloud-Greenwich-SR2-5/"><i class="fas fa-angle-left"></i>é…ç½®ä¸­å¿ƒ-Bus
            </a>
        
        
            <a style="float:right;" href="/2019/07/25/Spring-Cloud-Greenwich-SR2-3/">è·¯ç”±ä¸­å¿ƒ-Gateway<i class="fas fa-angle-right"></i>
            </a>
        
    
</div>

    <hr/>
    <button class="blog-post-comments-btn" onclick="show_posts_comments()">æ˜¾ç¤ºè¯„è®º</button>
    <div class="blog-post-comments" style="display: none">
        <div id="valine_comments"></div>
    </div>
    <script type="text/javascript">
        function show_posts_comments() {
            $(".blog-post-comments").show();
            $(".blog-post-comments-btn").hide();
        }
    </script>
    <hr/>


        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">é¦–é¡µ</a></li>
        
          <li><a href="/archives/">å½’æ¡£</a></li>
        
          <li><a href="/categories/">åˆ†ç±»</a></li>
        
          <li><a href="/friends/">å‹é“¾</a></li>
        
          <li><a href="/about/">å…³äº</a></li>
        
          <li><a href="/search/">æœç´¢</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA-Config-%E9%A1%B9%E7%9B%AE"><span class="toc-number">1.</span> <span class="toc-text">åˆ›å»º Config é¡¹ç›®</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E7%94%9F%E4%BA%A7%E8%80%85%E8%8E%B7%E5%8F%96%E5%A4%96%E9%83%A8%E9%85%8D%E7%BD%AE"><span class="toc-number">1.1.</span> <span class="toc-text">æœåŠ¡ç”Ÿäº§è€…è·å–å¤–éƒ¨é…ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E5%88%B7%E6%96%B0%E5%A4%96%E9%83%A8%E9%85%8D%E7%BD%AE"><span class="toc-number">1.1.1.</span> <span class="toc-text">åŠ¨æ€åˆ·æ–°å¤–éƒ¨é…ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E7%94%9F%E4%BA%A7%E8%80%85%E9%9B%86%E7%BE%A4%E5%88%B7%E6%96%B0%E5%A4%96%E9%83%A8%E9%85%8D%E7%BD%AE"><span class="toc-number">1.1.1.1.</span> <span class="toc-text">æœåŠ¡ç”Ÿäº§è€…é›†ç¾¤åˆ·æ–°å¤–éƒ¨é…ç½®</span></a></li></ol></li></ol></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://blog.futurenotfound.top/2019/08/05/Spring-Cloud-Greenwich-SR2-4/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://blog.futurenotfound.top/2019/08/05/Spring-Cloud-Greenwich-SR2-4/&text=é…ç½®ä¸­å¿ƒ-Config"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://blog.futurenotfound.top/2019/08/05/Spring-Cloud-Greenwich-SR2-4/&title=é…ç½®ä¸­å¿ƒ-Config"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://blog.futurenotfound.top/2019/08/05/Spring-Cloud-Greenwich-SR2-4/&is_video=false&description=é…ç½®ä¸­å¿ƒ-Config"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=é…ç½®ä¸­å¿ƒ-Config&body=Check out this article: https://blog.futurenotfound.top/2019/08/05/Spring-Cloud-Greenwich-SR2-4/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://blog.futurenotfound.top/2019/08/05/Spring-Cloud-Greenwich-SR2-4/&title=é…ç½®ä¸­å¿ƒ-Config"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://blog.futurenotfound.top/2019/08/05/Spring-Cloud-Greenwich-SR2-4/&title=é…ç½®ä¸­å¿ƒ-Config"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://blog.futurenotfound.top/2019/08/05/Spring-Cloud-Greenwich-SR2-4/&title=é…ç½®ä¸­å¿ƒ-Config"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://blog.futurenotfound.top/2019/08/05/Spring-Cloud-Greenwich-SR2-4/&title=é…ç½®ä¸­å¿ƒ-Config"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://blog.futurenotfound.top/2019/08/05/Spring-Cloud-Greenwich-SR2-4/&name=é…ç½®ä¸­å¿ƒ-Config&description=&lt;p&gt;Config çš„ Github é¡µé¢ Readme å¯¹ Config æè¿°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Spring Cloud Config provides server-side and client-side support for externalized configuration in a distributed system. With the Config Server, you have a central place to manage external properties for applications across all environments. The concepts on both client and server map identically to the Spring Environment and PropertySource abstractions, so they fit very well with Spring applications but can be used with any application running in any language. As an application moves through the deployment pipeline from dev to test and into production, you can manage the configuration between those environments and be certain that applications have everything they need to run when they migrate. The default implementation of the server storage backend uses git, so it easily supports labelled versions of configuration environments as well as being accessible to a wide range of tooling for managing the content. It is easy to add alternative implementations and plug them in with Spring configuration.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Spring Cloud Config ä¸ºåˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„å¤–éƒ¨åŒ–é…ç½®æä¾›æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯æ”¯æŒã€‚ä½¿ç”¨ Config Serverï¼Œæ‚¨å¯ä»¥åœ¨æ‰€æœ‰ç¯å¢ƒä¸­ç®¡ç†åº”ç”¨ç¨‹åºçš„å¤–éƒ¨å±æ€§ã€‚å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¸Šçš„æ¦‚å¿µæ˜ å°„ä¸ Spring Environment å’Œ PropertySource æŠ½è±¡ï¼Œå› æ­¤å®ƒä»¬éå¸¸é€‚åˆ Spring åº”ç”¨ç¨‹åºï¼Œä½†å¯ä»¥ä¸ä»»ä½•è¯­è¨€è¿è¡Œçš„ä»»ä½•åº”ç”¨ç¨‹åºä¸€èµ·ä½¿ç”¨ã€‚å½“åº”ç”¨ç¨‹åºé€šè¿‡éƒ¨ç½²ç®¡é“ä»å¼€å‘åˆ°æµ‹è¯•å†åˆ°ç”Ÿäº§æ—¶ï¼Œæ‚¨å¯ä»¥ç®¡ç†è¿™äº›ç¯å¢ƒä¹‹é—´çš„é…ç½®ï¼Œå¹¶ç¡®ä¿åº”ç”¨ç¨‹åºå…·æœ‰è¿ç§»æ—¶éœ€è¦è¿è¡Œçš„æ‰€æœ‰å†…å®¹ã€‚æœåŠ¡å™¨å­˜å‚¨åç«¯çš„é»˜è®¤å®ç°ä½¿ç”¨ gitï¼Œå› æ­¤å®ƒå¯ä»¥è½»æ¾æ”¯æŒé…ç½®ç¯å¢ƒçš„æ ‡ç­¾ç‰ˆæœ¬ï¼Œä»¥åŠå¯ç”¨äºç®¡ç†å†…å®¹çš„å„ç§å·¥å…·ã€‚æ·»åŠ æ›¿ä»£å®ç°å¹¶ä½¿ç”¨ Spring é…ç½®æ’å…¥å®ƒä»¬å¾ˆå®¹æ˜“ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç®€å•æ¥è®²ï¼ˆä»åå­—çœ‹ï¼‰å®˜æ–¹å¯¹ Config çš„å®šä½æ˜¯&lt;strong&gt;å¤–éƒ¨åŒ–é…ç½®æ”¯æŒ&lt;/strong&gt;ã€‚&lt;/p&gt;"><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://blog.futurenotfound.top/2019/08/05/Spring-Cloud-Greenwich-SR2-4/&t=é…ç½®ä¸­å¿ƒ-Config"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer"style="display: none">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> èœå•</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> ç›®å½•</a>
<!--        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> åˆ†äº«</a>-->
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> è¿”å›é¡¶éƒ¨</a>
    </div>

  </div>
</div>

        
        <footer id="footer-extend">
  <div class="footer-left">
    &copy;
    
    
    2021
    maozhijie
    
      <a target="_blank" rel="noopener" href='https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh'>CC BY-NC-SA 4.0</a>
    
    Powered by
    <a href="https://hexo.io/" target="_blank" rel="nofollow">hexo</a
  </div>
</footer>
<footer id="footer">
  <div class="footer-left">
    
      <a target="_blank" rel="noopener" href='http://beian.miit.gov.cn/'>é™•ICPå¤‡2021008394å·-1</a>
      
    
		 	<a target="_blank" rel="noopener" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=61011302001259">é™•å…¬ç½‘å®‰å¤‡ 61011302001259å·</a>
    
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">é¦–é¡µ</a></li>
         
          <li><a href="/archives/">å½’æ¡£</a></li>
         
          <li><a href="/categories/">åˆ†ç±»</a></li>
         
          <li><a href="/friends/">å‹é“¾</a></li>
         
          <li><a href="/about/">å…³äº</a></li>
         
          <li><a href="/search/">æœç´¢</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->

<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">


<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">


    <!-- jquery -->

<script src="/lib/jquery/jquery.min.js"></script>


<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>

<!-- clipboard -->

    
<script src="/lib/clipboard/clipboard.min.js"></script>

    <script type="text/javascript">
        $(function () {
            // copy-btn HTML
            var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"å¤åˆ¶åˆ°ç²˜è´´æ¿!\">";
            btn += '<i class="far fa-clone"></i>';
            btn += '</span>';
            // mount it!
            $(".highlight table").before(btn);
            var clip = new ClipboardJS('.btn-copy', {
                text: function (trigger) {
                    return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str, it) => str + it.innerText + '\n', '')
                }
            });
            clip.on('success', function (e) {
                e.trigger.setAttribute('aria-label', "å¤åˆ¶æˆåŠŸ!");
                e.clearSelection();
            })
        })
    </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

    <script type="text/javascript">
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?f01b82d682e8b8c168d7e14cb993e170";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>

<!-- Valine Comments -->

    
<script src="/lib/valine/Valine.min.js"></script>

    <script type="text/javascript">
        new Valine({
            el: '#valine_comments',
            appId: 'PYGSxQwogW3Qi5wie5gbK6tt-gzGzoHsz',
            appKey: 'VgamBFH9CKcnxsD6oM4Ijm0n',
            placeholder: 'æƒ³å¯¹ä½œè€…è¯´ç‚¹ä»€ä¹ˆï¼Ÿ',
            avatar: 'identicon',
            pageSize: '8',
            lang: 'zh-cn',
            visitor: 'true',
            recordIP: 'true',
            enableQQ: 'true',
            meta: ['nick', 'mail', 'link'],
            requiredFields: ['nick', 'mail'],
        });
    </script>

</body>
</html>
