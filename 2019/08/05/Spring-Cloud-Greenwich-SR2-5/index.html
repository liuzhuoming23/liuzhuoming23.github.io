<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="Bus çš„å®˜æ–¹æ–‡æ¡£å¯¹ Bus æè¿°å¦‚ä¸‹ï¼š  Spring Cloud Bus links nodes of a distributed system with a lightweight message broker. This can then be used to broadcast state changes (e.g. configuration changes) or other man">
<meta property="og:type" content="article">
<meta property="og:title" content="é…ç½®ä¸­å¿ƒ-Bus">
<meta property="og:url" content="https://blog.futurenotfound.top/2019/08/05/Spring-Cloud-Greenwich-SR2-5/index.html">
<meta property="og:site_name" content="FutureNotFound">
<meta property="og:description" content="Bus çš„å®˜æ–¹æ–‡æ¡£å¯¹ Bus æè¿°å¦‚ä¸‹ï¼š  Spring Cloud Bus links nodes of a distributed system with a lightweight message broker. This can then be used to broadcast state changes (e.g. configuration changes) or other man">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blog.futurenotfound.top/2019/08/05/Spring-Cloud-Greenwich-SR2-5/01.jpg">
<meta property="og:image" content="https://blog.futurenotfound.top/2019/08/05/Spring-Cloud-Greenwich-SR2-5/02.jpg">
<meta property="og:image" content="https://blog.futurenotfound.top/2019/08/05/Spring-Cloud-Greenwich-SR2-5/03.jpg">
<meta property="article:published_time" content="2019-08-05T03:45:17.000Z">
<meta property="article:modified_time" content="2021-07-20T22:29:57.831Z">
<meta property="article:author" content="maozhijie">
<meta property="article:tag" content="Git">
<meta property="article:tag" content="Spring Cloud Config">
<meta property="article:tag" content="Spring Boot Actuator">
<meta property="article:tag" content="RabbitMQ">
<meta property="article:tag" content="Spring Cloud Bus">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog.futurenotfound.top/2019/08/05/Spring-Cloud-Greenwich-SR2-5/01.jpg">
    
    
        
          
              <link rel="shortcut icon" href="/images/avatar.png">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/avatar.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/avatar.png">
          
        
    
    <!-- title -->
    <title>é…ç½®ä¸­å¿ƒ-Bus</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
      
<link rel="stylesheet" href="/css/rtl.css">

    
    <!-- rss -->
    
    
      <link rel="alternate" href="/true" title="FutureNotFound" type="application/atom+xml" />
    
    
      <script>
          (function(d) {
            var config = {
              kitId: 'twa1wya',
              scriptTimeout: 3000,
              async: true
            },
            h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
          })(document);
      </script>
    
    <!-- Google Adsense -->
    
            <script data-ad-client="ca-pub-8520855660949547" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    
<meta name="generator" content="Hexo 5.4.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        
          <li><a href="/">é¦–é¡µ</a></li>
        
          <li><a href="/archives/">å½’æ¡£</a></li>
        
          <li><a href="/categories/">åˆ†ç±»</a></li>
        
          <li><a href="/friends/">å‹é“¾</a></li>
        
          <li><a href="/about/">å…³äº</a></li>
        
          <li><a href="/search/">æœç´¢</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2019/08/12/%E5%88%9B%E5%BB%BA%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9A%84Spring-Boot-Starter%E9%A1%B9%E7%9B%AE%E5%8F%8A%E9%85%8D%E7%BD%AE%E5%8F%82%E6%95%B0%E5%85%83%E6%95%B0%E6%8D%AE/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2019/08/05/Spring-Cloud-Greenwich-SR2-4/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <!-- <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li> -->
      </ul>
      <span id="i-prev" class="info" style="display:none;">ä¸Šä¸€ç¯‡</span>
      <span id="i-next" class="info" style="display:none;">ä¸‹ä¸€ç¯‡</span>
      <span id="i-top" class="info" style="display:none;">è¿”å›é¡¶éƒ¨</span>
      <span id="i-share" class="info" style="display:none;">åˆ†äº«æ–‡ç« </span>
    </span>
    <br/>
    <div id="toc-div" class="toc-article" >
        
          <div id="toc">
            <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0-Bus-%E4%BE%9D%E8%B5%96"><span class="toc-number">1.</span> <span class="toc-text">æ·»åŠ  Bus ä¾èµ–</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#config-%E9%A1%B9%E7%9B%AE%E6%B7%BB%E5%8A%A0-Bus-%E4%BE%9D%E8%B5%96"><span class="toc-number">1.1.</span> <span class="toc-text">config é¡¹ç›®æ·»åŠ  Bus ä¾èµ–</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#producer-client-%E9%A1%B9%E7%9B%AE%E6%B7%BB%E5%8A%A0-Bus-%E4%BE%9D%E8%B5%96"><span class="toc-number">1.2.</span> <span class="toc-text">producer-client é¡¹ç›®æ·»åŠ  Bus ä¾èµ–</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AE-Bus-%E5%88%B7%E6%96%B0%E5%85%A8%E9%83%A8-producer-client-%E5%AE%9E%E4%BE%8B%E7%9A%84%E5%8A%A8%E6%80%81%E9%85%8D%E7%BD%AE"><span class="toc-number">1.3.</span> <span class="toc-text">æ ¹æ® Bus åˆ·æ–°å…¨éƒ¨ producer-client å®ä¾‹çš„åŠ¨æ€é…ç½®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AE-Bus-%E5%88%B7%E6%96%B0%E5%B1%80%E9%83%A8-producer-client-%E5%AE%9E%E4%BE%8B%E7%9A%84%E5%8A%A8%E6%80%81%E9%85%8D%E7%BD%AE"><span class="toc-number">1.4.</span> <span class="toc-text">æ ¹æ® Bus åˆ·æ–°å±€éƒ¨ producer-client å®ä¾‹çš„åŠ¨æ€é…ç½®</span></a></li></ol></li></ol>
          </div>
        
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
        
    <h1 class="posttitle" itemprop="name headline">
        é…ç½®ä¸­å¿ƒ-Bus
    </h1>



        <div class="meta">
            
    <div class="postdate">
      
        <time datetime="2019-08-05T03:45:17.000Z" itemprop="datePublished">2019-08-05</time>
        
      
    </div>


            
    <div class="article-category">
<!--        <i class="fas fa-archive"></i>-->
        <a class="category-link" href="/categories/Java/">Java</a> â€º <a class="category-link" href="/categories/Java/Spring/">Spring</a> â€º <a class="category-link" href="/categories/Java/Spring/Spring-Cloud/">Spring Cloud</a>
    </div>


            
    <div class="article-tag">
<!--        <i class="fas fa-tag"></i>-->
        <a class="tag-link-link" href="/tags/Git/" rel="tag">Git</a>, <a class="tag-link-link" href="/tags/RabbitMQ/" rel="tag">RabbitMQ</a>, <a class="tag-link-link" href="/tags/Spring-Boot-Actuator/" rel="tag">Spring Boot Actuator</a>, <a class="tag-link-link" href="/tags/Spring-Cloud-Bus/" rel="tag">Spring Cloud Bus</a>, <a class="tag-link-link" href="/tags/Spring-Cloud-Config/" rel="tag">Spring Cloud Config</a>
    </div>


            
    <div class="article-count">
        <span id="/2019/08/05/Spring-Cloud-Greenwich-SR2-5/" class="leancloud_visitors" data-flag-title="é…ç½®ä¸­å¿ƒ-Bus">
            <span class="post-meta-item-text">æµè§ˆé‡</span>
            <span class="leancloud-visitors-count">0</span>
        </span>
    </div>

            
    <div class="wordcount-symbols">
      
        <span>å­—æ•°</span>
        <span>6.2k</span>
      
    </div>
    <div class="wordcount-time">
      
        <span>é˜…è¯»æ—¶é—´</span>
        <span>11 åˆ†é’Ÿ</span>
      
    </div>


        </div>
    </header>
    

    <div class="content" itemprop="articleBody">
        

    <div id="toc" class="toc-article">
        <strong class="toc-title">ç›®å½•</strong>
        <div class="toc-content">
            <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0-Bus-%E4%BE%9D%E8%B5%96"><span class="toc-number">1.</span> <span class="toc-text">æ·»åŠ  Bus ä¾èµ–</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#config-%E9%A1%B9%E7%9B%AE%E6%B7%BB%E5%8A%A0-Bus-%E4%BE%9D%E8%B5%96"><span class="toc-number">1.1.</span> <span class="toc-text">config é¡¹ç›®æ·»åŠ  Bus ä¾èµ–</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#producer-client-%E9%A1%B9%E7%9B%AE%E6%B7%BB%E5%8A%A0-Bus-%E4%BE%9D%E8%B5%96"><span class="toc-number">1.2.</span> <span class="toc-text">producer-client é¡¹ç›®æ·»åŠ  Bus ä¾èµ–</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AE-Bus-%E5%88%B7%E6%96%B0%E5%85%A8%E9%83%A8-producer-client-%E5%AE%9E%E4%BE%8B%E7%9A%84%E5%8A%A8%E6%80%81%E9%85%8D%E7%BD%AE"><span class="toc-number">1.3.</span> <span class="toc-text">æ ¹æ® Bus åˆ·æ–°å…¨éƒ¨ producer-client å®ä¾‹çš„åŠ¨æ€é…ç½®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AE-Bus-%E5%88%B7%E6%96%B0%E5%B1%80%E9%83%A8-producer-client-%E5%AE%9E%E4%BE%8B%E7%9A%84%E5%8A%A8%E6%80%81%E9%85%8D%E7%BD%AE"><span class="toc-number">1.4.</span> <span class="toc-text">æ ¹æ® Bus åˆ·æ–°å±€éƒ¨ producer-client å®ä¾‹çš„åŠ¨æ€é…ç½®</span></a></li></ol></li></ol>
        </div>
    </div>

<hr/>
        <p>Bus çš„å®˜æ–¹æ–‡æ¡£å¯¹ Bus æè¿°å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>Spring Cloud Bus links nodes of a distributed system with a lightweight message broker. This can then be used to broadcast state changes (e.g. configuration changes) or other management instructions. The only implementation currently is with an AMQP broker as the transport, but the same basic feature set (and some more depending on the transport) is on the roadmap for other transports.</p>
</blockquote>
<blockquote>
<p>Spring Cloud Bus ä½¿ç”¨è½»é‡çº§æ¶ˆæ¯ä»£ç†é“¾æ¥åˆ†å¸ƒå¼ç³»ç»Ÿçš„èŠ‚ç‚¹ã€‚ç„¶åï¼Œè¿™å¯ä»¥ç”¨äºå¹¿æ’­çŠ¶æ€æ”¹å˜ï¼ˆä¾‹å¦‚ï¼Œé…ç½®æ”¹å˜ï¼‰æˆ–å…¶ä»–ç®¡ç†æŒ‡ä»¤ã€‚ç›®å‰å”¯ä¸€çš„å®ç°æ˜¯ä½¿ç”¨ AMQP ä»£ç†ä½œä¸ºä¼ è¾“ï¼Œä½†æ˜¯ç›¸åŒçš„åŸºæœ¬åŠŸèƒ½é›†ï¼ˆä»¥åŠä¸€äº›æ›´å¤šå–å†³äºä¼ è¾“ï¼‰æ˜¯å…¶ä»–ä¼ è¾“çš„è·¯çº¿å›¾ã€‚</p>
</blockquote>
<p>ç®€å•æ¥è®²å®˜æ–¹å¯¹ Bus çš„å®šä½æ˜¯<strong>æ¶ˆæ¯ä¼ è¾“</strong>ã€‚<br><em>æœ¬ doom åˆ©ç”¨ RabbitMQ æ¥å®ç°æ¶ˆæ¯æ€»çº¿çš„åŠŸèƒ½ã€‚</em></p>
<span id="more"></span>

<h1 id="æ·»åŠ -Bus-ä¾èµ–"><a href="#æ·»åŠ -Bus-ä¾èµ–" class="headerlink" title="æ·»åŠ  Bus ä¾èµ–"></a>æ·»åŠ  Bus ä¾èµ–</h1><h2 id="config-é¡¹ç›®æ·»åŠ -Bus-ä¾èµ–"><a href="#config-é¡¹ç›®æ·»åŠ -Bus-ä¾èµ–" class="headerlink" title="config é¡¹ç›®æ·»åŠ  Bus ä¾èµ–"></a>config é¡¹ç›®æ·»åŠ  Bus ä¾èµ–</h2><p>config é¡¹ç›®æ·»åŠ  spring-cloud-starter-bus-amqp ä¾èµ–ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.liuzhuoming23<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>config-center<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>config<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>config<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">description</span>&gt;</span>Demo project for Spring Cloud<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-config-server<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-eureka-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-bus-amqp<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><em>å…¶ä¸­ spring-cloud-starter-stream-rabbit ä¾èµ–ä¸ºæŒ‡å®šå®ç°æ¶ˆæ¯æ€»çº¿çš„æ–¹å¼ä¸º rabbitmq</em><br>application.yml é…ç½®ä¿®æ”¹ä¸ºï¼š</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8040</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">@pom.artifactId@</span></span><br><span class="line">  <span class="attr">cloud:</span></span><br><span class="line">    <span class="attr">config:</span></span><br><span class="line">      <span class="attr">server:</span></span><br><span class="line">        <span class="attr">git:</span></span><br><span class="line">          <span class="attr">uri:</span> <span class="string">https://gitee.com/liuzhuoming23/config-repo</span></span><br><span class="line">          <span class="attr">search-paths:</span> <span class="string">config</span></span><br><span class="line">          <span class="attr">username:</span></span><br><span class="line">          <span class="attr">password:</span></span><br><span class="line">    <span class="attr">bus:</span></span><br><span class="line">      <span class="comment">#å¼€å¯æ¶ˆæ¯æ€»çº¿åŠŸèƒ½</span></span><br><span class="line">      <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">rabbitmq:</span></span><br><span class="line">    <span class="comment">#rabbitmq host</span></span><br><span class="line">    <span class="attr">host:</span> <span class="string">localhost</span></span><br><span class="line">    <span class="comment">#rabbitmq port</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">5672</span></span><br><span class="line">    <span class="comment">#rabbitmq å¸å·</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">guest</span></span><br><span class="line">    <span class="comment">#rabbitmq å¯†ç </span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">guest</span></span><br><span class="line"></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://admin:admin@localhost:8000/eureka/</span></span><br><span class="line"></span><br><span class="line"><span class="attr">management:</span></span><br><span class="line">  <span class="attr">endpoints:</span></span><br><span class="line">    <span class="attr">web:</span></span><br><span class="line">      <span class="attr">exposure:</span></span><br><span class="line">        <span class="comment">#é…ç½®ç›‘æ§endpointï¼Œå…¶ä¸­bus-refreshä¸ºæ ¹æ®æ¶ˆæ¯æ€»çº¿åˆ·æ–°é…ç½®çš„endpoint</span></span><br><span class="line">        <span class="attr">include:</span> <span class="string">bus-refresh,httptrace,info,health</span></span><br></pre></td></tr></table></figure>

<p>ç„¶åé‡å¯ config é¡¹ç›®ï¼Œè®¿é—® rabbitmq åå°ç®¡ç†é¡µé¢<a target="_blank" rel="noopener" href="http://localhost:15672/">http://localhost:15672</a>,è¿›å…¥ Exchanges é€‰é¡¹å¡ï¼Œå¯ä»¥çœ‹åˆ° Exchanges é‡Œé¢å·²ç»å¢åŠ äº†åä¸º springCloudBus çš„ topicï¼š<br><img src="01.jpg" alt="01.jpg"></p>
<h2 id="producer-client-é¡¹ç›®æ·»åŠ -Bus-ä¾èµ–"><a href="#producer-client-é¡¹ç›®æ·»åŠ -Bus-ä¾èµ–" class="headerlink" title="producer-client é¡¹ç›®æ·»åŠ  Bus ä¾èµ–"></a>producer-client é¡¹ç›®æ·»åŠ  Bus ä¾èµ–</h2><p>producer-client é¡¹ç›® pom.xml ä¿®æ”¹ä¸ºï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.liuzhuoming23<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>server-center<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>producer-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>producer-client<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">description</span>&gt;</span>Demo project for Spring Cloud<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-eureka-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-config<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-bus-amqp<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>application.yml ä¿®æ”¹ä¸ºï¼š</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8010</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">@pom.artifactId@</span></span><br><span class="line">  <span class="attr">cloud:</span></span><br><span class="line">    <span class="attr">bus:</span></span><br><span class="line">      <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">rabbitmq:</span></span><br><span class="line">    <span class="attr">host:</span> <span class="string">localhost</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">5672</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">guest</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">guest</span></span><br><span class="line"></span><br><span class="line"><span class="attr">management:</span></span><br><span class="line">  <span class="attr">endpoints:</span></span><br><span class="line">    <span class="attr">web:</span></span><br><span class="line">      <span class="attr">exposure:</span></span><br><span class="line">        <span class="attr">include:</span> <span class="string">refresh,info,health</span></span><br></pre></td></tr></table></figure>

<p>ç„¶åé‡å¯ 8010 å’Œ 8011 ä¸¤ä¸ªé¡¹ç›®ï¼Œè®¿é—® rabbitmq åå°ç®¡ç†é¡µé¢<a target="_blank" rel="noopener" href="http://localhost:15672/">http://localhost:15672</a>,è¿›å…¥ Exchanges é€‰é¡¹å¡ï¼Œæ‰“å¼€ springCloudBus è¯¦æƒ…ï¼Œå¯ä»¥çœ‹åˆ° springCloudBus ä¸»é¢˜ä¸‹ç»‘å®šäº†ä¸‰ä¸ªå®ä¾‹ï¼Œå…¶ä¸­ä¸€ä¸ªä¸ºå‘å¸ƒè€…ï¼Œå¦å¤–ä¸¤ä¸ªä¸ºè®¢é˜…è€…ï¼ˆ<del>ä¸è¿‡æˆ‘æ²¡åˆ†è¾¨å‡ºå“ªä¸ªæ˜¯å“ªä¸ª</del>ï¼‰ï¼š<br><img src="02.jpg" alt="02.jpg"></p>
<h2 id="æ ¹æ®-Bus-åˆ·æ–°å…¨éƒ¨-producer-client-å®ä¾‹çš„åŠ¨æ€é…ç½®"><a href="#æ ¹æ®-Bus-åˆ·æ–°å…¨éƒ¨-producer-client-å®ä¾‹çš„åŠ¨æ€é…ç½®" class="headerlink" title="æ ¹æ® Bus åˆ·æ–°å…¨éƒ¨ producer-client å®ä¾‹çš„åŠ¨æ€é…ç½®"></a>æ ¹æ® Bus åˆ·æ–°å…¨éƒ¨ producer-client å®ä¾‹çš„åŠ¨æ€é…ç½®</h2><p>ä¿®æ”¹ git é‡Œé¢çš„ config/producer-client-dev.yml æ–‡ä»¶ä¸ºï¼š</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">config:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">å›½é™…å·¨æ˜ŸğŸºxj</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ Postman ç”¨ POST è¯·æ±‚è®¿é—®<a target="_blank" rel="noopener" href="http://localhost:8040/actuator/bus-refresh/">http://localhost:8040/actuator/bus-refresh/</a>,ç„¶ååˆ†åˆ«è®¿é—®<a target="_blank" rel="noopener" href="http://localhost:8010/port/test">http://localhost:8010/port/test</a>å’Œ<a target="_blank" rel="noopener" href="http://localhost:8011/port/test">http://localhost:8011/port/test</a>ï¼Œè¿”å›ç»“æœéƒ½æ˜¯ï¼ˆå› ä¸ºæ ¹æ®æ¶ˆæ¯æ€»çº¿åˆ·æ–°é…ç½®è¿‡ç¨‹ç¨å¾®ä¹…ä¸€ç‚¹ï¼Œæ‰€ä»¥åœ¨åˆ·æ–°ä¹‹åä¸ªåˆ«å®ä¾‹é…ç½®å¹¶æ²¡æœ‰æ›´æ–°è¿‡æ¥ä¹Ÿæ˜¯æ­£å¸¸çš„ï¼Œæ‰“å°çš„ç«¯å£éƒ½æ˜¯ 8010 çš„é—®é¢˜å‚ç…§ä¸Šä¸€ç« ï¼‰ï¼š<br><code>å›½é™…å·¨æ˜ŸğŸºxj | test: client port | 8010</code><br>è¯´æ˜æ ¹æ®æ¶ˆæ¯æ€»çº¿åˆ·æ–°å…¨éƒ¨å®ä¾‹æˆåŠŸã€‚<br><em>åœ¨åˆ·æ–°é…ç½®çš„æ—¶å€™è®¿é—® rabbitmq åå°ç®¡ç†é¡µé¢<a target="_blank" rel="noopener" href="http://localhost:15672/">http://localhost:15672</a>ï¼Œè¿›å…¥ Exchanges é€‰é¡¹å¡ï¼Œæ‰“å¼€ springCloudBus è¯¦æƒ…ï¼Œä¼šçœ‹åˆ°å·²ç»äº§ç”Ÿäº†æ¶ˆæ¯æ•°æ®çš„ä¼ é€’ï¼š</em><br><img src="03.jpg" alt="03.jpg"></p>
<h2 id="æ ¹æ®-Bus-åˆ·æ–°å±€éƒ¨-producer-client-å®ä¾‹çš„åŠ¨æ€é…ç½®"><a href="#æ ¹æ®-Bus-åˆ·æ–°å±€éƒ¨-producer-client-å®ä¾‹çš„åŠ¨æ€é…ç½®" class="headerlink" title="æ ¹æ® Bus åˆ·æ–°å±€éƒ¨ producer-client å®ä¾‹çš„åŠ¨æ€é…ç½®"></a>æ ¹æ® Bus åˆ·æ–°å±€éƒ¨ producer-client å®ä¾‹çš„åŠ¨æ€é…ç½®</h2><p>ä¿®æ”¹ git é‡Œé¢çš„ config/producer-client-dev.yml æ–‡ä»¶ä¸ºï¼š</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">config:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">æˆ˜æœ¯åä»°</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ Postman ç”¨ POST è¯·æ±‚è®¿é—®<a target="_blank" rel="noopener" href="http://localhost:8040/actuator/bus-refresh/producer-client:8010">http://localhost:8040/actuator/bus-refresh/producer-client:8010</a>,ç„¶åè®¿é—®<a target="_blank" rel="noopener" href="http://localhost:8010/port/test">http://localhost:8010/port/test</a>ï¼Œè¿”å›ç»“æœï¼š<br><code>æˆ˜æœ¯åä»° | ğŸ•: client port | 8010 | feign</code><br>çœ‹åˆ° 8010 å®ä¾‹çš„é…ç½®å·²ç»æ”¹å˜ï¼Œç„¶åè®¿é—®<a target="_blank" rel="noopener" href="http://localhost:8011/port/test">http://localhost:8011/port/test</a>ï¼Œè¿”å›ç»“æœï¼š<br><code>å›½é™…å·¨æ˜ŸğŸºxj | ğŸ•: client port | 8010 | feign</code><br>çœ‹åˆ° 8011 å®ä¾‹çš„é…ç½®å¹¶æœªæ”¹å˜ï¼Œä¹Ÿå°±è¯æ˜å±€éƒ¨åˆ·æ–°é…ç½®æˆåŠŸã€‚</p>

        
    <blockquote>
<p>æœ¬æ–‡æ˜¯maozhijieçš„åŸåˆ›æ–‡ç« ï¼Œè½¬è½½è¯·æå‰å‘ŠçŸ¥ä½œè€…å¹¶ä¸”æ ‡æ˜å‡ºå¤„ã€‚<br>å†…å®¹éµå¾ª ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™… <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">CC BY-NC-SA 4.0</a> åè®®ã€‚</p>
</blockquote>


    </div>
    
    <div class="donate">
        <hr/>
        <button class="donates-btn" onclick="show_donates()">æ‰“èµ</button>
        <div class="donate-imgs">
            
                <img class="donate-img" src="/images/wechat.jpg" alt="å¾®ä¿¡æ‰“èµ"/>
            
            
                <img class="donate-img" src="/images/alipay.jpg" alt="æ”¯ä»˜å®æ‰“èµ"/>
            
        </div>
        <script type="text/javascript">
            function show_donates() {
                $(".donate-imgs").show();
                $(".donate-imgs").css("display", "flex");
                $(".donates-btn").hide();
            }
        </script>
    </div>

</article>

    <hr/>
    <div class="post-series"><b>ç³»åˆ—æ–‡ç« </b> #Spring Cloud
        
        
            
        
            
        
            
        
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/07/25/Spring-Cloud-Greenwich-SR2-0/">
                        (1)å‰è¨€
                    </a>
                </p>
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/07/25/Spring-Cloud-Greenwich-SR2-1/">
                        (2)æ³¨å†Œä¸­å¿ƒ-Eureka
                    </a>
                </p>
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/07/25/Spring-Cloud-Greenwich-SR2-2/">
                        (3)æœåŠ¡é—´è°ƒç”¨-Feign(ğŸ¦)
                    </a>
                </p>
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/07/25/Spring-Cloud-Greenwich-SR2-3/">
                        (4)è·¯ç”±ä¸­å¿ƒ-Gateway
                    </a>
                </p>
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/08/05/Spring-Cloud-Greenwich-SR2-4/">
                        (5)é…ç½®ä¸­å¿ƒ-Config
                    </a>
                </p>
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/08/05/Spring-Cloud-Greenwich-SR2-5/">
                        (6)é…ç½®ä¸­å¿ƒ-Bus
                    </a>
                </p>
            
        
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/08/28/Spring-Cloud-Greenwich-SR2-6/">
                        (7)ç›‘æ§ä¸­å¿ƒ-Admin
                    </a>
                </p>
            
        
            
        
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/09/17/Spring-Cloud-Greenwich-SR2-7/">
                        (8)ç›‘æ§ä¸­å¿ƒ-Sleuth+Zipkin
                    </a>
                </p>
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/09/18/Spring-Cloud-Greenwich-SR2-8/">
                        (9)ç›‘æ§ä¸­å¿ƒ-Elasticsearch+Zipkin
                    </a>
                </p>
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/09/18/Spring-Cloud-Greenwich-SR2-9/">
                        (10)ç›‘æ§ä¸­å¿ƒ-HystrixDashboard+Turbine
                    </a>
                </p>
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/10/18/Spring-Cloud-Greenwich-SR2-10/">
                        (11)æˆæƒä¸­å¿ƒ-Oauth2+JWT
                    </a>
                </p>
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/10/23/Spring-Cloud-Greenwich-SR2-11/">
                        (12)æ³¨å†Œä¸­å¿ƒ/é…ç½®ä¸­å¿ƒ-Nacos
                    </a>
                </p>
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/11/13/Spring-Cloud-Greenwich-SR2-12/">
                        (13)åŠ¨æ€è·¯ç”±-Gateway
                    </a>
                </p>
            
        
            
        
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2020/01/09/Spring-Cloud-Greenwich-SR2-14/">
                        (14)æˆæƒä¸­å¿ƒ-Oauth2+JWTè¡¥å…¨
                    </a>
                </p>
            
        
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2020/02/26/Spring-Cloud-Greenwich-SR2-15/">
                        (15)æˆæƒä¸­å¿ƒ-Oauth2+JWT+HOTP(ğŸ¦)
                    </a>
                </p>
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
    </div>

<div class="pagination-index">
    
        <hr/>
        
            <a style="float:left;" href="/2019/08/12/%E5%88%9B%E5%BB%BA%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9A%84Spring-Boot-Starter%E9%A1%B9%E7%9B%AE%E5%8F%8A%E9%85%8D%E7%BD%AE%E5%8F%82%E6%95%B0%E5%85%83%E6%95%B0%E6%8D%AE/"><i class="fas fa-angle-left"></i>åˆ›å»ºè‡ªå®šä¹‰çš„Spring Boot Starteré¡¹ç›®
            </a>
        
        
            <a style="float:right;" href="/2019/08/05/Spring-Cloud-Greenwich-SR2-4/">é…ç½®ä¸­å¿ƒ-Config<i class="fas fa-angle-right"></i>
            </a>
        
    
</div>

    <hr/>
    <button class="blog-post-comments-btn" onclick="show_posts_comments()">æ˜¾ç¤ºè¯„è®º</button>
    <div class="blog-post-comments" style="display: none">
        <div id="valine_comments"></div>
    </div>
    <script type="text/javascript">
        function show_posts_comments() {
            $(".blog-post-comments").show();
            $(".blog-post-comments-btn").hide();
        }
    </script>
    <hr/>


        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">é¦–é¡µ</a></li>
        
          <li><a href="/archives/">å½’æ¡£</a></li>
        
          <li><a href="/categories/">åˆ†ç±»</a></li>
        
          <li><a href="/friends/">å‹é“¾</a></li>
        
          <li><a href="/about/">å…³äº</a></li>
        
          <li><a href="/search/">æœç´¢</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0-Bus-%E4%BE%9D%E8%B5%96"><span class="toc-number">1.</span> <span class="toc-text">æ·»åŠ  Bus ä¾èµ–</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#config-%E9%A1%B9%E7%9B%AE%E6%B7%BB%E5%8A%A0-Bus-%E4%BE%9D%E8%B5%96"><span class="toc-number">1.1.</span> <span class="toc-text">config é¡¹ç›®æ·»åŠ  Bus ä¾èµ–</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#producer-client-%E9%A1%B9%E7%9B%AE%E6%B7%BB%E5%8A%A0-Bus-%E4%BE%9D%E8%B5%96"><span class="toc-number">1.2.</span> <span class="toc-text">producer-client é¡¹ç›®æ·»åŠ  Bus ä¾èµ–</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AE-Bus-%E5%88%B7%E6%96%B0%E5%85%A8%E9%83%A8-producer-client-%E5%AE%9E%E4%BE%8B%E7%9A%84%E5%8A%A8%E6%80%81%E9%85%8D%E7%BD%AE"><span class="toc-number">1.3.</span> <span class="toc-text">æ ¹æ® Bus åˆ·æ–°å…¨éƒ¨ producer-client å®ä¾‹çš„åŠ¨æ€é…ç½®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AE-Bus-%E5%88%B7%E6%96%B0%E5%B1%80%E9%83%A8-producer-client-%E5%AE%9E%E4%BE%8B%E7%9A%84%E5%8A%A8%E6%80%81%E9%85%8D%E7%BD%AE"><span class="toc-number">1.4.</span> <span class="toc-text">æ ¹æ® Bus åˆ·æ–°å±€éƒ¨ producer-client å®ä¾‹çš„åŠ¨æ€é…ç½®</span></a></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://blog.futurenotfound.top/2019/08/05/Spring-Cloud-Greenwich-SR2-5/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://blog.futurenotfound.top/2019/08/05/Spring-Cloud-Greenwich-SR2-5/&text=é…ç½®ä¸­å¿ƒ-Bus"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://blog.futurenotfound.top/2019/08/05/Spring-Cloud-Greenwich-SR2-5/&title=é…ç½®ä¸­å¿ƒ-Bus"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://blog.futurenotfound.top/2019/08/05/Spring-Cloud-Greenwich-SR2-5/&is_video=false&description=é…ç½®ä¸­å¿ƒ-Bus"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=é…ç½®ä¸­å¿ƒ-Bus&body=Check out this article: https://blog.futurenotfound.top/2019/08/05/Spring-Cloud-Greenwich-SR2-5/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://blog.futurenotfound.top/2019/08/05/Spring-Cloud-Greenwich-SR2-5/&title=é…ç½®ä¸­å¿ƒ-Bus"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://blog.futurenotfound.top/2019/08/05/Spring-Cloud-Greenwich-SR2-5/&title=é…ç½®ä¸­å¿ƒ-Bus"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://blog.futurenotfound.top/2019/08/05/Spring-Cloud-Greenwich-SR2-5/&title=é…ç½®ä¸­å¿ƒ-Bus"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://blog.futurenotfound.top/2019/08/05/Spring-Cloud-Greenwich-SR2-5/&title=é…ç½®ä¸­å¿ƒ-Bus"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://blog.futurenotfound.top/2019/08/05/Spring-Cloud-Greenwich-SR2-5/&name=é…ç½®ä¸­å¿ƒ-Bus&description=&lt;p&gt;Bus çš„å®˜æ–¹æ–‡æ¡£å¯¹ Bus æè¿°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Spring Cloud Bus links nodes of a distributed system with a lightweight message broker. This can then be used to broadcast state changes (e.g. configuration changes) or other management instructions. The only implementation currently is with an AMQP broker as the transport, but the same basic feature set (and some more depending on the transport) is on the roadmap for other transports.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Spring Cloud Bus ä½¿ç”¨è½»é‡çº§æ¶ˆæ¯ä»£ç†é“¾æ¥åˆ†å¸ƒå¼ç³»ç»Ÿçš„èŠ‚ç‚¹ã€‚ç„¶åï¼Œè¿™å¯ä»¥ç”¨äºå¹¿æ’­çŠ¶æ€æ”¹å˜ï¼ˆä¾‹å¦‚ï¼Œé…ç½®æ”¹å˜ï¼‰æˆ–å…¶ä»–ç®¡ç†æŒ‡ä»¤ã€‚ç›®å‰å”¯ä¸€çš„å®ç°æ˜¯ä½¿ç”¨ AMQP ä»£ç†ä½œä¸ºä¼ è¾“ï¼Œä½†æ˜¯ç›¸åŒçš„åŸºæœ¬åŠŸèƒ½é›†ï¼ˆä»¥åŠä¸€äº›æ›´å¤šå–å†³äºä¼ è¾“ï¼‰æ˜¯å…¶ä»–ä¼ è¾“çš„è·¯çº¿å›¾ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç®€å•æ¥è®²å®˜æ–¹å¯¹ Bus çš„å®šä½æ˜¯&lt;strong&gt;æ¶ˆæ¯ä¼ è¾“&lt;/strong&gt;ã€‚&lt;br&gt;&lt;em&gt;æœ¬ doom åˆ©ç”¨ RabbitMQ æ¥å®ç°æ¶ˆæ¯æ€»çº¿çš„åŠŸèƒ½ã€‚&lt;/em&gt;&lt;/p&gt;"><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://blog.futurenotfound.top/2019/08/05/Spring-Cloud-Greenwich-SR2-5/&t=é…ç½®ä¸­å¿ƒ-Bus"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer"style="display: none">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> èœå•</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> ç›®å½•</a>
<!--        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> åˆ†äº«</a>-->
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> è¿”å›é¡¶éƒ¨</a>
    </div>

  </div>
</div>

        
        <footer id="footer-extend">
  <div class="footer-left">
    &copy;
    
    
    2021
    maozhijie
    
      <a target="_blank" rel="noopener" href='https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh'>CC BY-NC-SA 4.0</a>
    
    Powered by
    <a href="https://hexo.io/" target="_blank" rel="nofollow">hexo</a
  </div>
</footer>
<footer id="footer">
  <div class="footer-left">
    
      <a target="_blank" rel="noopener" href='http://beian.miit.gov.cn/'>é™•ICPå¤‡2021008394å·-1</a>
      
    
		 	<a target="_blank" rel="noopener" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=61011302001259">é™•å…¬ç½‘å®‰å¤‡ 61011302001259å·</a>
    
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">é¦–é¡µ</a></li>
         
          <li><a href="/archives/">å½’æ¡£</a></li>
         
          <li><a href="/categories/">åˆ†ç±»</a></li>
         
          <li><a href="/friends/">å‹é“¾</a></li>
         
          <li><a href="/about/">å…³äº</a></li>
         
          <li><a href="/search/">æœç´¢</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->

<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">


<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">


    <!-- jquery -->

<script src="/lib/jquery/jquery.min.js"></script>


<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>

<!-- clipboard -->

    
<script src="/lib/clipboard/clipboard.min.js"></script>

    <script type="text/javascript">
        $(function () {
            // copy-btn HTML
            var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"å¤åˆ¶åˆ°ç²˜è´´æ¿!\">";
            btn += '<i class="far fa-clone"></i>';
            btn += '</span>';
            // mount it!
            $(".highlight table").before(btn);
            var clip = new ClipboardJS('.btn-copy', {
                text: function (trigger) {
                    return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str, it) => str + it.innerText + '\n', '')
                }
            });
            clip.on('success', function (e) {
                e.trigger.setAttribute('aria-label', "å¤åˆ¶æˆåŠŸ!");
                e.clearSelection();
            })
        })
    </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

    <script type="text/javascript">
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?f01b82d682e8b8c168d7e14cb993e170";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>

<!-- Valine Comments -->

    
<script src="/lib/valine/Valine.min.js"></script>

    <script type="text/javascript">
        new Valine({
            el: '#valine_comments',
            appId: 'PYGSxQwogW3Qi5wie5gbK6tt-gzGzoHsz',
            appKey: 'VgamBFH9CKcnxsD6oM4Ijm0n',
            placeholder: 'æƒ³å¯¹ä½œè€…è¯´ç‚¹ä»€ä¹ˆï¼Ÿ',
            avatar: 'identicon',
            pageSize: '8',
            lang: 'zh-cn',
            visitor: 'true',
            recordIP: 'true',
            enableQQ: 'true',
            meta: ['nick', 'mail', 'link'],
            requiredFields: ['nick', 'mail'],
        });
    </script>

</body>
</html>
