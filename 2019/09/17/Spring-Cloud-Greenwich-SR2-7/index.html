<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="Sleuth å®˜ç½‘å¯¹ Sleuth æè¿°å¦‚ä¸‹ï¼š  Spring Cloud Sleuth implements a distributed tracing solution for Spring Cloud, borrowing heavily from Dapper, Zipkin and HTrace. For most users Sleuth should be invisible, an">
<meta property="og:type" content="article">
<meta property="og:title" content="ç›‘æ§ä¸­å¿ƒ-Sleuth+Zipkin">
<meta property="og:url" content="https://blog.futurenotfound.top/2019/09/17/Spring-Cloud-Greenwich-SR2-7/index.html">
<meta property="og:site_name" content="FutureNotFound">
<meta property="og:description" content="Sleuth å®˜ç½‘å¯¹ Sleuth æè¿°å¦‚ä¸‹ï¼š  Spring Cloud Sleuth implements a distributed tracing solution for Spring Cloud, borrowing heavily from Dapper, Zipkin and HTrace. For most users Sleuth should be invisible, an">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blog.futurenotfound.top/2019/09/17/Spring-Cloud-Greenwich-SR2-7/01.jpg">
<meta property="og:image" content="https://blog.futurenotfound.top/2019/09/17/Spring-Cloud-Greenwich-SR2-7/02.jpg">
<meta property="og:image" content="https://blog.futurenotfound.top/2019/09/17/Spring-Cloud-Greenwich-SR2-7/03.jpg">
<meta property="og:image" content="https://blog.futurenotfound.top/2019/09/17/Spring-Cloud-Greenwich-SR2-7/04.jpg">
<meta property="article:published_time" content="2019-09-17T10:12:35.000Z">
<meta property="article:modified_time" content="2021-07-20T22:29:57.831Z">
<meta property="article:author" content="maozhijie">
<meta property="article:tag" content="RabbitMQ">
<meta property="article:tag" content="Zipkin">
<meta property="article:tag" content="Spring Cloud Sleuth">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog.futurenotfound.top/2019/09/17/Spring-Cloud-Greenwich-SR2-7/01.jpg">
    
    
        
          
              <link rel="shortcut icon" href="/images/avatar.png">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/avatar.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/avatar.png">
          
        
    
    <!-- title -->
    <title>ç›‘æ§ä¸­å¿ƒ-Sleuth+Zipkin</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
      
<link rel="stylesheet" href="/css/rtl.css">

    
    <!-- rss -->
    
    
      <link rel="alternate" href="/true" title="FutureNotFound" type="application/atom+xml" />
    
    
      <script>
          (function(d) {
            var config = {
              kitId: 'twa1wya',
              scriptTimeout: 3000,
              async: true
            },
            h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
          })(document);
      </script>
    
    <!-- Google Adsense -->
    
            <script data-ad-client="ca-pub-8520855660949547" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    
<meta name="generator" content="Hexo 5.4.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        
          <li><a href="/">é¦–é¡µ</a></li>
        
          <li><a href="/archives/">å½’æ¡£</a></li>
        
          <li><a href="/categories/">åˆ†ç±»</a></li>
        
          <li><a href="/friends/">å‹é“¾</a></li>
        
          <li><a href="/about/">å…³äº</a></li>
        
          <li><a href="/search/">æœç´¢</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2019/09/18/Spring-Cloud-Greenwich-SR2-8/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2019/09/16/%E4%B8%8A%E4%BC%A0jar%E5%88%B0maven%E4%B8%AD%E5%A4%AE%E4%BB%93%E5%BA%93/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <!-- <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li> -->
      </ul>
      <span id="i-prev" class="info" style="display:none;">ä¸Šä¸€ç¯‡</span>
      <span id="i-next" class="info" style="display:none;">ä¸‹ä¸€ç¯‡</span>
      <span id="i-top" class="info" style="display:none;">è¿”å›é¡¶éƒ¨</span>
      <span id="i-share" class="info" style="display:none;">åˆ†äº«æ–‡ç« </span>
    </span>
    <br/>
    <div id="toc-div" class="toc-article" >
        
          <div id="toc">
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E8%BF%87-web-%E6%94%B6%E9%9B%86%E6%97%A5%E5%BF%97%E4%BF%A1%E6%81%AF"><span class="toc-number">1.</span> <span class="toc-text">é€šè¿‡ web æ”¶é›†æ—¥å¿—ä¿¡æ¯</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#producer-client-%E9%A1%B9%E7%9B%AE%E6%B7%BB%E5%8A%A0-Sleuth-%E5%92%8C-Zipkin-%E4%BE%9D%E8%B5%96"><span class="toc-number">1.1.</span> <span class="toc-text">producer-client é¡¹ç›®æ·»åŠ  Sleuth å’Œ Zipkin ä¾èµ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#feign-%E9%A1%B9%E7%9B%AE%E6%B7%BB%E5%8A%A0-Sleuth-%E5%92%8C-Zipkin-%E4%BE%9D%E8%B5%96"><span class="toc-number">1.2.</span> <span class="toc-text">feign é¡¹ç›®æ·»åŠ  Sleuth å’Œ Zipkin ä¾èµ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%91%E9%80%81%E5%8F%8A%E6%94%B6%E9%9B%86%E6%9F%A5%E8%AF%A2%E6%97%A5%E5%BF%97"><span class="toc-number">1.3.</span> <span class="toc-text">å‘é€åŠæ”¶é›†æŸ¥è¯¢æ—¥å¿—</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E8%BF%87-RabbitMQ-%E6%94%B6%E9%9B%86%E6%97%A5%E5%BF%97%E4%BF%A1%E6%81%AF"><span class="toc-number">2.</span> <span class="toc-text">é€šè¿‡ RabbitMQ æ”¶é›†æ—¥å¿—ä¿¡æ¯</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9-producer-client-%E9%A1%B9%E7%9B%AE%E4%B8%BA%E9%80%9A%E8%BF%87-RabbitMQ-%E6%94%B6%E9%9B%86%E6%97%A5%E5%BF%97%E4%BF%A1%E6%81%AF"><span class="toc-number">2.1.</span> <span class="toc-text">ä¿®æ”¹ producer-client é¡¹ç›®ä¸ºé€šè¿‡ RabbitMQ æ”¶é›†æ—¥å¿—ä¿¡æ¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9-feign-%E9%A1%B9%E7%9B%AE%E4%B8%BA%E9%80%9A%E8%BF%87-RabbitMQ-%E6%94%B6%E9%9B%86%E6%97%A5%E5%BF%97%E4%BF%A1%E6%81%AF"><span class="toc-number">2.2.</span> <span class="toc-text">ä¿®æ”¹ feign é¡¹ç›®ä¸ºé€šè¿‡ RabbitMQ æ”¶é›†æ—¥å¿—ä¿¡æ¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%91%E9%80%81%E5%8F%8A%E6%94%B6%E9%9B%86%E6%9F%A5%E8%AF%A2%E6%97%A5%E5%BF%97-1"><span class="toc-number">2.3.</span> <span class="toc-text">å‘é€åŠæ”¶é›†æŸ¥è¯¢æ—¥å¿—</span></a></li></ol></li></ol>
          </div>
        
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
        
    <h1 class="posttitle" itemprop="name headline">
        ç›‘æ§ä¸­å¿ƒ-Sleuth+Zipkin
    </h1>



        <div class="meta">
            
    <div class="postdate">
      
        <time datetime="2019-09-17T10:12:35.000Z" itemprop="datePublished">2019-09-17</time>
        
      
    </div>


            
    <div class="article-category">
<!--        <i class="fas fa-archive"></i>-->
        <a class="category-link" href="/categories/Java/">Java</a> â€º <a class="category-link" href="/categories/Java/Spring/">Spring</a> â€º <a class="category-link" href="/categories/Java/Spring/Spring-Cloud/">Spring Cloud</a>
    </div>


            
    <div class="article-tag">
<!--        <i class="fas fa-tag"></i>-->
        <a class="tag-link-link" href="/tags/RabbitMQ/" rel="tag">RabbitMQ</a>, <a class="tag-link-link" href="/tags/Spring-Cloud-Sleuth/" rel="tag">Spring Cloud Sleuth</a>, <a class="tag-link-link" href="/tags/Zipkin/" rel="tag">Zipkin</a>
    </div>


            
    <div class="article-count">
        <span id="/2019/09/17/Spring-Cloud-Greenwich-SR2-7/" class="leancloud_visitors" data-flag-title="ç›‘æ§ä¸­å¿ƒ-Sleuth+Zipkin">
            <span class="post-meta-item-text">æµè§ˆé‡</span>
            <span class="leancloud-visitors-count">0</span>
        </span>
    </div>

            
    <div class="wordcount-symbols">
      
        <span>å­—æ•°</span>
        <span>7.8k</span>
      
    </div>
    <div class="wordcount-time">
      
        <span>é˜…è¯»æ—¶é—´</span>
        <span>14 åˆ†é’Ÿ</span>
      
    </div>


        </div>
    </header>
    

    <div class="content" itemprop="articleBody">
        

    <div id="toc" class="toc-article">
        <strong class="toc-title">ç›®å½•</strong>
        <div class="toc-content">
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E8%BF%87-web-%E6%94%B6%E9%9B%86%E6%97%A5%E5%BF%97%E4%BF%A1%E6%81%AF"><span class="toc-number">1.</span> <span class="toc-text">é€šè¿‡ web æ”¶é›†æ—¥å¿—ä¿¡æ¯</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#producer-client-%E9%A1%B9%E7%9B%AE%E6%B7%BB%E5%8A%A0-Sleuth-%E5%92%8C-Zipkin-%E4%BE%9D%E8%B5%96"><span class="toc-number">1.1.</span> <span class="toc-text">producer-client é¡¹ç›®æ·»åŠ  Sleuth å’Œ Zipkin ä¾èµ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#feign-%E9%A1%B9%E7%9B%AE%E6%B7%BB%E5%8A%A0-Sleuth-%E5%92%8C-Zipkin-%E4%BE%9D%E8%B5%96"><span class="toc-number">1.2.</span> <span class="toc-text">feign é¡¹ç›®æ·»åŠ  Sleuth å’Œ Zipkin ä¾èµ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%91%E9%80%81%E5%8F%8A%E6%94%B6%E9%9B%86%E6%9F%A5%E8%AF%A2%E6%97%A5%E5%BF%97"><span class="toc-number">1.3.</span> <span class="toc-text">å‘é€åŠæ”¶é›†æŸ¥è¯¢æ—¥å¿—</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E8%BF%87-RabbitMQ-%E6%94%B6%E9%9B%86%E6%97%A5%E5%BF%97%E4%BF%A1%E6%81%AF"><span class="toc-number">2.</span> <span class="toc-text">é€šè¿‡ RabbitMQ æ”¶é›†æ—¥å¿—ä¿¡æ¯</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9-producer-client-%E9%A1%B9%E7%9B%AE%E4%B8%BA%E9%80%9A%E8%BF%87-RabbitMQ-%E6%94%B6%E9%9B%86%E6%97%A5%E5%BF%97%E4%BF%A1%E6%81%AF"><span class="toc-number">2.1.</span> <span class="toc-text">ä¿®æ”¹ producer-client é¡¹ç›®ä¸ºé€šè¿‡ RabbitMQ æ”¶é›†æ—¥å¿—ä¿¡æ¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9-feign-%E9%A1%B9%E7%9B%AE%E4%B8%BA%E9%80%9A%E8%BF%87-RabbitMQ-%E6%94%B6%E9%9B%86%E6%97%A5%E5%BF%97%E4%BF%A1%E6%81%AF"><span class="toc-number">2.2.</span> <span class="toc-text">ä¿®æ”¹ feign é¡¹ç›®ä¸ºé€šè¿‡ RabbitMQ æ”¶é›†æ—¥å¿—ä¿¡æ¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%91%E9%80%81%E5%8F%8A%E6%94%B6%E9%9B%86%E6%9F%A5%E8%AF%A2%E6%97%A5%E5%BF%97-1"><span class="toc-number">2.3.</span> <span class="toc-text">å‘é€åŠæ”¶é›†æŸ¥è¯¢æ—¥å¿—</span></a></li></ol></li></ol>
        </div>
    </div>

<hr/>
        <p>Sleuth å®˜ç½‘å¯¹ Sleuth æè¿°å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>Spring Cloud Sleuth implements a distributed tracing solution for Spring Cloud, borrowing heavily from Dapper, Zipkin and HTrace. For most users Sleuth should be invisible, and all your interactions with external systems should be instrumented automatically. You can capture data simply in logs, or by sending it to a remote collector service.</p>
</blockquote>
<blockquote>
<p>Spring Cloud Sleuth ä¸º Spring Cloud å®ç°äº†åˆ†å¸ƒå¼è·Ÿè¸ªè§£å†³æ–¹æ¡ˆï¼Œå¤§é‡å€Ÿç”¨ Dapperã€Zipkin å’Œ HTraceã€‚å¯¹äºå¤§å¤šæ•°ç”¨æˆ·ï¼ŒSleuth åº”è¯¥æ˜¯ä¸å¯è§çš„ï¼Œå¹¶ä¸”æ‚¨ä¸å¤–éƒ¨ç³»ç»Ÿçš„æ‰€æœ‰äº¤äº’éƒ½åº”è‡ªåŠ¨è¿›è¡Œæ£€æµ‹ã€‚åªéœ€åœ¨æ—¥å¿—ä¸­æ•è·æ•°æ®ï¼Œä¹Ÿå¯ä»¥å°†å…¶å‘é€åˆ°è¿œç¨‹æ”¶é›†å™¨æœåŠ¡ã€‚</p>
</blockquote>
<p>ç®€å•æ¥è®²å®˜æ–¹å¯¹ Sleuth çš„å®šä½æ˜¯<strong>æ•è·å’Œå‘é€æ—¥å¿—</strong>ã€‚<br><em>æˆ‘ä»¬ç”¨æ¥å’Œ Zipkin ç»“åˆä½¿ç”¨ã€‚</em></p>
<span id="more"></span>

<p>Zipkin çš„å®˜ç½‘å¯¹ Zipkin çš„æè¿°å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>Zipkin is a distributed tracing system. It helps gather timing data needed to troubleshoot latency problems in service architectures. Features include both the collection and lookup of this data.</p>
</blockquote>
<blockquote>
<p>Zipkin æ˜¯ä¸€ç§åˆ†å¸ƒå¼è·Ÿè¸ªç³»ç»Ÿã€‚å®ƒæœ‰åŠ©äºæ”¶é›†è§£å†³æœåŠ¡ä½“ç³»ç»“æ„ä¸­çš„å»¶è¿Ÿé—®é¢˜æ‰€éœ€çš„è®¡æ—¶æ•°æ®ã€‚åŠŸèƒ½åŒ…æ‹¬æ”¶é›†å’ŒæŸ¥æ‰¾æ­¤æ•°æ®ã€‚</p>
</blockquote>
<p>ç®€å•æ¥è®²å®˜æ–¹å¯¹ Zipkin çš„å®šä½æ˜¯<strong>è·Ÿè¸ªï¼Œæ”¶é›†å’ŒæŸ¥æ‰¾æ—¥å¿—</strong>ã€‚</p>
<h2 id="é€šè¿‡-web-æ”¶é›†æ—¥å¿—ä¿¡æ¯"><a href="#é€šè¿‡-web-æ”¶é›†æ—¥å¿—ä¿¡æ¯" class="headerlink" title="é€šè¿‡ web æ”¶é›†æ—¥å¿—ä¿¡æ¯"></a>é€šè¿‡ web æ”¶é›†æ—¥å¿—ä¿¡æ¯</h2><p>ä» Spring Boot 2.x ç‰ˆæœ¬å¼€å§‹å®˜æ–¹å°±å»ºè®®ä½¿ç”¨å®˜æ–¹ç¼–è¯‘çš„ Jar åŒ…å¯åŠ¨ Zipkin æœåŠ¡äº†ã€‚<br>æœ€æ–°ç‰ˆä¸‹è½½åœ°å€æ˜¯ï¼š<a target="_blank" rel="noopener" href="https://search.maven.org/remote_content?g=io.zipkin&a=zipkin-server&v=LATEST&c=exec">https://search.maven.org/remote_content?g=io.zipkin&amp;a=zipkin-server&amp;v=LATEST&amp;c=exec</a></p>
<p>ä¸‹è½½å®Œæˆåä¸ºæ–¹ä¾¿å¯ä»¥æ”¹åä¸º zipkin.jarï¼Œç„¶ååœ¨æ‰€åœ¨ç›®å½•ä¸‹è¿è¡Œ powershell å‘½ä»¤<code>java -jar zipkin.jar</code>ï¼Œç¨åè®¿é—®<a target="_blank" rel="noopener" href="http://localhost:9411/zipkin/">http://localhost:9411/zipkin/</a>ï¼š<br><img src="01.jpg" alt="01.jpg"><br>ä½†æ˜¯è¿™æ—¶å€™è¿˜æ²¡æœ‰æ—¥å¿—æ¥æºï¼Œæ‰€ä»¥æ¥ä¸‹æ¥æˆ‘ä»¬æ”¹é€ ä¹‹å‰çš„ producer-client é¡¹ç›®å’Œ feign é¡¹ç›®ï¼Œè®©ä»–ä»¬é€šè¿‡ Sleuth æ¥å‘é€æ—¥å¿—åˆ° Zipkinã€‚</p>
<h3 id="producer-client-é¡¹ç›®æ·»åŠ -Sleuth-å’Œ-Zipkin-ä¾èµ–"><a href="#producer-client-é¡¹ç›®æ·»åŠ -Sleuth-å’Œ-Zipkin-ä¾èµ–" class="headerlink" title="producer-client é¡¹ç›®æ·»åŠ  Sleuth å’Œ Zipkin ä¾èµ–"></a>producer-client é¡¹ç›®æ·»åŠ  Sleuth å’Œ Zipkin ä¾èµ–</h3><p>ä¿®æ”¹ producer-client é¡¹ç›®çš„ pom.xml ä¸ºï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.liuzhuoming23<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>server-center<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>producer-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>producer-client<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">description</span>&gt;</span>Demo project for Spring Cloud<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-eureka-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-config<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-bus-amqp<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-sleuth<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-zipkin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹ application.yml ä¸ºï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8010</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">@pom.artifactId@</span></span><br><span class="line">  <span class="attr">cloud:</span></span><br><span class="line">    <span class="attr">bus:</span></span><br><span class="line">      <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">rabbitmq:</span></span><br><span class="line">    <span class="attr">host:</span> <span class="string">localhost</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">5672</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">guest</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">guest</span></span><br><span class="line">  <span class="attr">sleuth:</span></span><br><span class="line">    <span class="attr">web:</span></span><br><span class="line">      <span class="attr">client:</span></span><br><span class="line">        <span class="comment">#æ˜¯å¦å¼€å¯sleuth</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">sampler:</span></span><br><span class="line">      <span class="comment">#æ”¶é›†æ—¥å¿—çš„æ¯”ä¾‹ï¼Œ1.0=100%ï¼Œé»˜è®¤0.1=10%</span></span><br><span class="line">      <span class="attr">probability:</span> <span class="number">1.0</span></span><br><span class="line">  <span class="attr">zipkin:</span></span><br><span class="line">    <span class="comment">#zipkinåœ°å€</span></span><br><span class="line">    <span class="attr">base-url:</span> <span class="string">http://localhost:9411/</span></span><br><span class="line">    <span class="attr">locator:</span></span><br><span class="line">      <span class="attr">discovery:</span></span><br><span class="line">        <span class="comment">#å¯ç”¨é€šè¿‡æœåŠ¡å‘ç°æŸ¥æ‰¾ä¸»æœºå</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">sender:</span></span><br><span class="line">      <span class="comment">#æ—¥å¿—æ”¶é›†æ–¹å¼ä¸ºweb</span></span><br><span class="line">      <span class="attr">type:</span> <span class="string">web</span></span><br><span class="line"></span><br><span class="line"><span class="attr">management:</span></span><br><span class="line">  <span class="attr">endpoints:</span></span><br><span class="line">    <span class="attr">web:</span></span><br><span class="line">      <span class="attr">exposure:</span></span><br><span class="line">        <span class="attr">include:</span> <span class="string">refresh,info,health</span></span><br></pre></td></tr></table></figure>

<p>ç„¶åé‡å¯ producer-client é¡¹ç›®ã€‚</p>
<h3 id="feign-é¡¹ç›®æ·»åŠ -Sleuth-å’Œ-Zipkin-ä¾èµ–"><a href="#feign-é¡¹ç›®æ·»åŠ -Sleuth-å’Œ-Zipkin-ä¾èµ–" class="headerlink" title="feign é¡¹ç›®æ·»åŠ  Sleuth å’Œ Zipkin ä¾èµ–"></a>feign é¡¹ç›®æ·»åŠ  Sleuth å’Œ Zipkin ä¾èµ–</h3><p>åŒ producer-client é¡¹ç›®ï¼Œè‡ªè¡Œæ·»åŠ ï¼Œä¸å†èµ˜è¿°ã€‚<br>ä¹‹ååŒæ ·é‡å¯ feign é¡¹ç›®ã€‚</p>
<h3 id="å‘é€åŠæ”¶é›†æŸ¥è¯¢æ—¥å¿—"><a href="#å‘é€åŠæ”¶é›†æŸ¥è¯¢æ—¥å¿—" class="headerlink" title="å‘é€åŠæ”¶é›†æŸ¥è¯¢æ—¥å¿—"></a>å‘é€åŠæ”¶é›†æŸ¥è¯¢æ—¥å¿—</h3><p>åƒä¹‹å‰ä¸€æ ·ç”¨ Postman è¯·æ±‚<a target="_blank" rel="noopener" href="http://localhost:8030/feign/port/%F0%9F%90%95">http://localhost:8030/feign/port/ğŸ•</a>ï¼Œç„¶åè®¿é—®<a target="_blank" rel="noopener" href="http://localhost:9411/zipkin/">http://localhost:9411/zipkin/</a>ï¼Œç‚¹å‡»ä¸»é¡µçš„<strong>æŸ¥çœ‹</strong>æŒ‰é’®ä¼šæ˜¾ç¤ºå·²ç»ç»Ÿè®¡åˆ°çš„æ—¥å¿—åˆ—è¡¨ï¼š<br><img src="02.jpg" alt="02.jpg"><br>å¯ä»¥çœ‹åˆ°è¯·æ±‚çš„é“¾è·¯æ—¥å¿—å·²ç»ç»Ÿè®¡åœ¨ Zipkin é‡Œé¢äº†ï¼Œç‚¹å‡»å±•å¼€è¯¦æƒ…ï¼š<br><img src="03.jpg" alt="03.jpg"><br>å³å¯ä»¥çœ‹åˆ°å¾®æœåŠ¡é‡Œé¢çš„è¯·æ±‚é¡ºåºå’ŒèŠ±è´¹æ—¶é—´ç­‰è¯¦æƒ…ã€‚</p>
<h2 id="é€šè¿‡-RabbitMQ-æ”¶é›†æ—¥å¿—ä¿¡æ¯"><a href="#é€šè¿‡-RabbitMQ-æ”¶é›†æ—¥å¿—ä¿¡æ¯" class="headerlink" title="é€šè¿‡ RabbitMQ æ”¶é›†æ—¥å¿—ä¿¡æ¯"></a>é€šè¿‡ RabbitMQ æ”¶é›†æ—¥å¿—ä¿¡æ¯</h2><p>ç›´æ¥é€šè¿‡ web æ–¹å¼æ”¶é›†æ—¥å¿—ä¼šè®©æœåŠ¡å’Œ Zipkin æœåŠ¡è¿‡äºè€¦åˆï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ RabbitMQ æ¥ä¸­è½¬æ”¶é›†åˆ°çš„æ—¥å¿—ä¿¡æ¯æ¥è§£è€¦ã€‚<br>é¦–å…ˆå…³é—­ Zipkin æœåŠ¡ï¼Œå¹¶è¿è¡Œ<code>java -jar zipkin.jar --zipkin.collector.rabbitmq.uri=amqp://guest:guest@localhost:5672</code>å‘½ä»¤å¯åŠ¨ Zipkin æœåŠ¡ã€‚<br>å¯åŠ¨å®Œæˆä¹‹åæ‰“å¼€ RabbitMQ çš„ç®¡ç†é¡µé¢<a target="_blank" rel="noopener" href="http://localhost:15672/">http://localhost:15672</a>ï¼Œè¿›å…¥ Queue é€‰é¡¹å¡ï¼Œä¼šå‘ç°å·²ç»æ·»åŠ äº† zipkin çš„é˜Ÿåˆ—ï¼š<br><img src="04.jpg" alt="04.jpg"><br>ç„¶åä¿®æ”¹ producer-client é¡¹ç›®å’Œ feign é¡¹ç›®ã€‚</p>
<h3 id="ä¿®æ”¹-producer-client-é¡¹ç›®ä¸ºé€šè¿‡-RabbitMQ-æ”¶é›†æ—¥å¿—ä¿¡æ¯"><a href="#ä¿®æ”¹-producer-client-é¡¹ç›®ä¸ºé€šè¿‡-RabbitMQ-æ”¶é›†æ—¥å¿—ä¿¡æ¯" class="headerlink" title="ä¿®æ”¹ producer-client é¡¹ç›®ä¸ºé€šè¿‡ RabbitMQ æ”¶é›†æ—¥å¿—ä¿¡æ¯"></a>ä¿®æ”¹ producer-client é¡¹ç›®ä¸ºé€šè¿‡ RabbitMQ æ”¶é›†æ—¥å¿—ä¿¡æ¯</h3><p>å› ä¸º producer-client é¡¹ç›®å·²ç»æ·»åŠ äº† RabbitMQ çš„ä¾èµ–ï¼Œæ‰€ä»¥ä¸éœ€è¦åšæ”¹åŠ¨ã€‚<br>ä¿®æ”¹ application.yml ä¸ºï¼š</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8010</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">@pom.artifactId@</span></span><br><span class="line">  <span class="attr">cloud:</span></span><br><span class="line">    <span class="attr">bus:</span></span><br><span class="line">      <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">rabbitmq:</span></span><br><span class="line">    <span class="attr">host:</span> <span class="string">localhost</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">5672</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">guest</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">guest</span></span><br><span class="line">  <span class="attr">sleuth:</span></span><br><span class="line">    <span class="attr">web:</span></span><br><span class="line">      <span class="attr">client:</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">sampler:</span></span><br><span class="line">      <span class="attr">probability:</span> <span class="number">1.0</span></span><br><span class="line">  <span class="attr">zipkin:</span></span><br><span class="line">    <span class="attr">base-url:</span> <span class="string">http://localhost:9411/</span></span><br><span class="line">    <span class="attr">locator:</span></span><br><span class="line">      <span class="attr">discovery:</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">sender:</span></span><br><span class="line">      <span class="comment">#ä½¿ç”¨rabbitæ–¹å¼å‘é€æ—¥å¿—</span></span><br><span class="line">      <span class="attr">type:</span> <span class="string">rabbit</span></span><br><span class="line"></span><br><span class="line"><span class="attr">management:</span></span><br><span class="line">  <span class="attr">endpoints:</span></span><br><span class="line">    <span class="attr">web:</span></span><br><span class="line">      <span class="attr">exposure:</span></span><br><span class="line">        <span class="attr">include:</span> <span class="string">refresh,info,health</span></span><br></pre></td></tr></table></figure>

<p>ä¹‹åé‡å¯é¡¹ç›®ã€‚</p>
<h3 id="ä¿®æ”¹-feign-é¡¹ç›®ä¸ºé€šè¿‡-RabbitMQ-æ”¶é›†æ—¥å¿—ä¿¡æ¯"><a href="#ä¿®æ”¹-feign-é¡¹ç›®ä¸ºé€šè¿‡-RabbitMQ-æ”¶é›†æ—¥å¿—ä¿¡æ¯" class="headerlink" title="ä¿®æ”¹ feign é¡¹ç›®ä¸ºé€šè¿‡ RabbitMQ æ”¶é›†æ—¥å¿—ä¿¡æ¯"></a>ä¿®æ”¹ feign é¡¹ç›®ä¸ºé€šè¿‡ RabbitMQ æ”¶é›†æ—¥å¿—ä¿¡æ¯</h3><p>ä¿®æ”¹ pom.xml ä¸ºï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.liuzhuoming23<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>route-center<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>feign<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>feign<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">description</span>&gt;</span>Demo project for Spring Cloud<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-eureka-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-openfeign<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-hystrix<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-sleuth<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-zipkin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-stream-rabbit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹ application.yml ä¸ºï¼š</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8020</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">@pom.artifactId@</span></span><br><span class="line">  <span class="attr">sleuth:</span></span><br><span class="line">    <span class="attr">web:</span></span><br><span class="line">      <span class="attr">client:</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">sampler:</span></span><br><span class="line">      <span class="attr">probability:</span> <span class="number">1.0</span></span><br><span class="line">  <span class="attr">zipkin:</span></span><br><span class="line">    <span class="attr">base-url:</span> <span class="string">http://localhost:9411/</span></span><br><span class="line">    <span class="attr">locator:</span></span><br><span class="line">      <span class="attr">discovery:</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">sender:</span></span><br><span class="line">      <span class="attr">type:</span> <span class="string">rabbit</span></span><br><span class="line">  <span class="attr">rabbitmq:</span></span><br><span class="line">    <span class="attr">host:</span> <span class="string">localhost</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">5672</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">guest</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">guest</span></span><br><span class="line"></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://admin:admin@localhost:8000/eureka/</span></span><br><span class="line"></span><br><span class="line"><span class="attr">feign:</span></span><br><span class="line">  <span class="attr">hystrix:</span></span><br><span class="line">    <span class="attr">enabled:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>ä¹‹åé‡å¯é¡¹ç›®ã€‚</p>
<h3 id="å‘é€åŠæ”¶é›†æŸ¥è¯¢æ—¥å¿—-1"><a href="#å‘é€åŠæ”¶é›†æŸ¥è¯¢æ—¥å¿—-1" class="headerlink" title="å‘é€åŠæ”¶é›†æŸ¥è¯¢æ—¥å¿—"></a>å‘é€åŠæ”¶é›†æŸ¥è¯¢æ—¥å¿—</h3><p>å’Œ web æ–¹å¼æ­¥éª¤å®Œå…¨ç›¸åŒï¼Œè‡ªè¡Œå°è¯•ï¼Œä¸å†èµ˜è¿°ã€‚</p>

        
    <blockquote>
<p>æœ¬æ–‡æ˜¯maozhijieçš„åŸåˆ›æ–‡ç« ï¼Œè½¬è½½è¯·æå‰å‘ŠçŸ¥ä½œè€…å¹¶ä¸”æ ‡æ˜å‡ºå¤„ã€‚<br>å†…å®¹éµå¾ª ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™… <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">CC BY-NC-SA 4.0</a> åè®®ã€‚</p>
</blockquote>


    </div>
    
    <div class="donate">
        <hr/>
        <button class="donates-btn" onclick="show_donates()">æ‰“èµ</button>
        <div class="donate-imgs">
            
                <img class="donate-img" src="/images/wechat.jpg" alt="å¾®ä¿¡æ‰“èµ"/>
            
            
                <img class="donate-img" src="/images/alipay.jpg" alt="æ”¯ä»˜å®æ‰“èµ"/>
            
        </div>
        <script type="text/javascript">
            function show_donates() {
                $(".donate-imgs").show();
                $(".donate-imgs").css("display", "flex");
                $(".donates-btn").hide();
            }
        </script>
    </div>

</article>

    <hr/>
    <div class="post-series"><b>ç³»åˆ—æ–‡ç« </b> #Spring Cloud
        
        
            
        
            
        
            
        
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/07/25/Spring-Cloud-Greenwich-SR2-0/">
                        (1)å‰è¨€
                    </a>
                </p>
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/07/25/Spring-Cloud-Greenwich-SR2-1/">
                        (2)æ³¨å†Œä¸­å¿ƒ-Eureka
                    </a>
                </p>
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/07/25/Spring-Cloud-Greenwich-SR2-2/">
                        (3)æœåŠ¡é—´è°ƒç”¨-Feign(ğŸ¦)
                    </a>
                </p>
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/07/25/Spring-Cloud-Greenwich-SR2-3/">
                        (4)è·¯ç”±ä¸­å¿ƒ-Gateway
                    </a>
                </p>
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/08/05/Spring-Cloud-Greenwich-SR2-4/">
                        (5)é…ç½®ä¸­å¿ƒ-Config
                    </a>
                </p>
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/08/05/Spring-Cloud-Greenwich-SR2-5/">
                        (6)é…ç½®ä¸­å¿ƒ-Bus
                    </a>
                </p>
            
        
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/08/28/Spring-Cloud-Greenwich-SR2-6/">
                        (7)ç›‘æ§ä¸­å¿ƒ-Admin
                    </a>
                </p>
            
        
            
        
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/09/17/Spring-Cloud-Greenwich-SR2-7/">
                        (8)ç›‘æ§ä¸­å¿ƒ-Sleuth+Zipkin
                    </a>
                </p>
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/09/18/Spring-Cloud-Greenwich-SR2-8/">
                        (9)ç›‘æ§ä¸­å¿ƒ-Elasticsearch+Zipkin
                    </a>
                </p>
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/09/18/Spring-Cloud-Greenwich-SR2-9/">
                        (10)ç›‘æ§ä¸­å¿ƒ-HystrixDashboard+Turbine
                    </a>
                </p>
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/10/18/Spring-Cloud-Greenwich-SR2-10/">
                        (11)æˆæƒä¸­å¿ƒ-Oauth2+JWT
                    </a>
                </p>
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/10/23/Spring-Cloud-Greenwich-SR2-11/">
                        (12)æ³¨å†Œä¸­å¿ƒ/é…ç½®ä¸­å¿ƒ-Nacos
                    </a>
                </p>
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2019/11/13/Spring-Cloud-Greenwich-SR2-12/">
                        (13)åŠ¨æ€è·¯ç”±-Gateway
                    </a>
                </p>
            
        
            
        
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2020/01/09/Spring-Cloud-Greenwich-SR2-14/">
                        (14)æˆæƒä¸­å¿ƒ-Oauth2+JWTè¡¥å…¨
                    </a>
                </p>
            
        
            
        
            
                <p style="margin:0.425em 0 0.425em 0">
                    <a href="/2020/02/26/Spring-Cloud-Greenwich-SR2-15/">
                        (15)æˆæƒä¸­å¿ƒ-Oauth2+JWT+HOTP(ğŸ¦)
                    </a>
                </p>
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
    </div>

<div class="pagination-index">
    
        <hr/>
        
            <a style="float:left;" href="/2019/09/18/Spring-Cloud-Greenwich-SR2-8/"><i class="fas fa-angle-left"></i>ç›‘æ§ä¸­å¿ƒ-Elasticsearch+Zipkin
            </a>
        
        
            <a style="float:right;" href="/2019/09/16/%E4%B8%8A%E4%BC%A0jar%E5%88%B0maven%E4%B8%AD%E5%A4%AE%E4%BB%93%E5%BA%93/">æ‰“åŒ…Githubçš„é¡¹ç›®ä¸Šä¼ åˆ°Mavenä¸­å¤®ä»“åº“<i class="fas fa-angle-right"></i>
            </a>
        
    
</div>

    <hr/>
    <button class="blog-post-comments-btn" onclick="show_posts_comments()">æ˜¾ç¤ºè¯„è®º</button>
    <div class="blog-post-comments" style="display: none">
        <div id="valine_comments"></div>
    </div>
    <script type="text/javascript">
        function show_posts_comments() {
            $(".blog-post-comments").show();
            $(".blog-post-comments-btn").hide();
        }
    </script>
    <hr/>


        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">é¦–é¡µ</a></li>
        
          <li><a href="/archives/">å½’æ¡£</a></li>
        
          <li><a href="/categories/">åˆ†ç±»</a></li>
        
          <li><a href="/friends/">å‹é“¾</a></li>
        
          <li><a href="/about/">å…³äº</a></li>
        
          <li><a href="/search/">æœç´¢</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E8%BF%87-web-%E6%94%B6%E9%9B%86%E6%97%A5%E5%BF%97%E4%BF%A1%E6%81%AF"><span class="toc-number">1.</span> <span class="toc-text">é€šè¿‡ web æ”¶é›†æ—¥å¿—ä¿¡æ¯</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#producer-client-%E9%A1%B9%E7%9B%AE%E6%B7%BB%E5%8A%A0-Sleuth-%E5%92%8C-Zipkin-%E4%BE%9D%E8%B5%96"><span class="toc-number">1.1.</span> <span class="toc-text">producer-client é¡¹ç›®æ·»åŠ  Sleuth å’Œ Zipkin ä¾èµ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#feign-%E9%A1%B9%E7%9B%AE%E6%B7%BB%E5%8A%A0-Sleuth-%E5%92%8C-Zipkin-%E4%BE%9D%E8%B5%96"><span class="toc-number">1.2.</span> <span class="toc-text">feign é¡¹ç›®æ·»åŠ  Sleuth å’Œ Zipkin ä¾èµ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%91%E9%80%81%E5%8F%8A%E6%94%B6%E9%9B%86%E6%9F%A5%E8%AF%A2%E6%97%A5%E5%BF%97"><span class="toc-number">1.3.</span> <span class="toc-text">å‘é€åŠæ”¶é›†æŸ¥è¯¢æ—¥å¿—</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E8%BF%87-RabbitMQ-%E6%94%B6%E9%9B%86%E6%97%A5%E5%BF%97%E4%BF%A1%E6%81%AF"><span class="toc-number">2.</span> <span class="toc-text">é€šè¿‡ RabbitMQ æ”¶é›†æ—¥å¿—ä¿¡æ¯</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9-producer-client-%E9%A1%B9%E7%9B%AE%E4%B8%BA%E9%80%9A%E8%BF%87-RabbitMQ-%E6%94%B6%E9%9B%86%E6%97%A5%E5%BF%97%E4%BF%A1%E6%81%AF"><span class="toc-number">2.1.</span> <span class="toc-text">ä¿®æ”¹ producer-client é¡¹ç›®ä¸ºé€šè¿‡ RabbitMQ æ”¶é›†æ—¥å¿—ä¿¡æ¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9-feign-%E9%A1%B9%E7%9B%AE%E4%B8%BA%E9%80%9A%E8%BF%87-RabbitMQ-%E6%94%B6%E9%9B%86%E6%97%A5%E5%BF%97%E4%BF%A1%E6%81%AF"><span class="toc-number">2.2.</span> <span class="toc-text">ä¿®æ”¹ feign é¡¹ç›®ä¸ºé€šè¿‡ RabbitMQ æ”¶é›†æ—¥å¿—ä¿¡æ¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%91%E9%80%81%E5%8F%8A%E6%94%B6%E9%9B%86%E6%9F%A5%E8%AF%A2%E6%97%A5%E5%BF%97-1"><span class="toc-number">2.3.</span> <span class="toc-text">å‘é€åŠæ”¶é›†æŸ¥è¯¢æ—¥å¿—</span></a></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://blog.futurenotfound.top/2019/09/17/Spring-Cloud-Greenwich-SR2-7/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://blog.futurenotfound.top/2019/09/17/Spring-Cloud-Greenwich-SR2-7/&text=ç›‘æ§ä¸­å¿ƒ-Sleuth+Zipkin"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://blog.futurenotfound.top/2019/09/17/Spring-Cloud-Greenwich-SR2-7/&title=ç›‘æ§ä¸­å¿ƒ-Sleuth+Zipkin"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://blog.futurenotfound.top/2019/09/17/Spring-Cloud-Greenwich-SR2-7/&is_video=false&description=ç›‘æ§ä¸­å¿ƒ-Sleuth+Zipkin"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=ç›‘æ§ä¸­å¿ƒ-Sleuth+Zipkin&body=Check out this article: https://blog.futurenotfound.top/2019/09/17/Spring-Cloud-Greenwich-SR2-7/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://blog.futurenotfound.top/2019/09/17/Spring-Cloud-Greenwich-SR2-7/&title=ç›‘æ§ä¸­å¿ƒ-Sleuth+Zipkin"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://blog.futurenotfound.top/2019/09/17/Spring-Cloud-Greenwich-SR2-7/&title=ç›‘æ§ä¸­å¿ƒ-Sleuth+Zipkin"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://blog.futurenotfound.top/2019/09/17/Spring-Cloud-Greenwich-SR2-7/&title=ç›‘æ§ä¸­å¿ƒ-Sleuth+Zipkin"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://blog.futurenotfound.top/2019/09/17/Spring-Cloud-Greenwich-SR2-7/&title=ç›‘æ§ä¸­å¿ƒ-Sleuth+Zipkin"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://blog.futurenotfound.top/2019/09/17/Spring-Cloud-Greenwich-SR2-7/&name=ç›‘æ§ä¸­å¿ƒ-Sleuth+Zipkin&description=&lt;p&gt;Sleuth å®˜ç½‘å¯¹ Sleuth æè¿°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Spring Cloud Sleuth implements a distributed tracing solution for Spring Cloud, borrowing heavily from Dapper, Zipkin and HTrace. For most users Sleuth should be invisible, and all your interactions with external systems should be instrumented automatically. You can capture data simply in logs, or by sending it to a remote collector service.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Spring Cloud Sleuth ä¸º Spring Cloud å®ç°äº†åˆ†å¸ƒå¼è·Ÿè¸ªè§£å†³æ–¹æ¡ˆï¼Œå¤§é‡å€Ÿç”¨ Dapperã€Zipkin å’Œ HTraceã€‚å¯¹äºå¤§å¤šæ•°ç”¨æˆ·ï¼ŒSleuth åº”è¯¥æ˜¯ä¸å¯è§çš„ï¼Œå¹¶ä¸”æ‚¨ä¸å¤–éƒ¨ç³»ç»Ÿçš„æ‰€æœ‰äº¤äº’éƒ½åº”è‡ªåŠ¨è¿›è¡Œæ£€æµ‹ã€‚åªéœ€åœ¨æ—¥å¿—ä¸­æ•è·æ•°æ®ï¼Œä¹Ÿå¯ä»¥å°†å…¶å‘é€åˆ°è¿œç¨‹æ”¶é›†å™¨æœåŠ¡ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç®€å•æ¥è®²å®˜æ–¹å¯¹ Sleuth çš„å®šä½æ˜¯&lt;strong&gt;æ•è·å’Œå‘é€æ—¥å¿—&lt;/strong&gt;ã€‚&lt;br&gt;&lt;em&gt;æˆ‘ä»¬ç”¨æ¥å’Œ Zipkin ç»“åˆä½¿ç”¨ã€‚&lt;/em&gt;&lt;/p&gt;"><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://blog.futurenotfound.top/2019/09/17/Spring-Cloud-Greenwich-SR2-7/&t=ç›‘æ§ä¸­å¿ƒ-Sleuth+Zipkin"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer"style="display: none">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> èœå•</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> ç›®å½•</a>
<!--        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> åˆ†äº«</a>-->
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> è¿”å›é¡¶éƒ¨</a>
    </div>

  </div>
</div>

        
        <footer id="footer-extend">
  <div class="footer-left">
    &copy;
    
    
    2021
    maozhijie
    
      <a target="_blank" rel="noopener" href='https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh'>CC BY-NC-SA 4.0</a>
    
    Powered by
    <a href="https://hexo.io/" target="_blank" rel="nofollow">hexo</a
  </div>
</footer>
<footer id="footer">
  <div class="footer-left">
    
      <a target="_blank" rel="noopener" href='http://beian.miit.gov.cn/'>é™•ICPå¤‡2021008394å·-1</a>
      
    
		 	<a target="_blank" rel="noopener" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=61011302001259">é™•å…¬ç½‘å®‰å¤‡ 61011302001259å·</a>
    
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">é¦–é¡µ</a></li>
         
          <li><a href="/archives/">å½’æ¡£</a></li>
         
          <li><a href="/categories/">åˆ†ç±»</a></li>
         
          <li><a href="/friends/">å‹é“¾</a></li>
         
          <li><a href="/about/">å…³äº</a></li>
         
          <li><a href="/search/">æœç´¢</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->

<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">


<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">


    <!-- jquery -->

<script src="/lib/jquery/jquery.min.js"></script>


<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>

<!-- clipboard -->

    
<script src="/lib/clipboard/clipboard.min.js"></script>

    <script type="text/javascript">
        $(function () {
            // copy-btn HTML
            var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"å¤åˆ¶åˆ°ç²˜è´´æ¿!\">";
            btn += '<i class="far fa-clone"></i>';
            btn += '</span>';
            // mount it!
            $(".highlight table").before(btn);
            var clip = new ClipboardJS('.btn-copy', {
                text: function (trigger) {
                    return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str, it) => str + it.innerText + '\n', '')
                }
            });
            clip.on('success', function (e) {
                e.trigger.setAttribute('aria-label', "å¤åˆ¶æˆåŠŸ!");
                e.clearSelection();
            })
        })
    </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

    <script type="text/javascript">
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?f01b82d682e8b8c168d7e14cb993e170";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>

<!-- Valine Comments -->

    
<script src="/lib/valine/Valine.min.js"></script>

    <script type="text/javascript">
        new Valine({
            el: '#valine_comments',
            appId: 'PYGSxQwogW3Qi5wie5gbK6tt-gzGzoHsz',
            appKey: 'VgamBFH9CKcnxsD6oM4Ijm0n',
            placeholder: 'æƒ³å¯¹ä½œè€…è¯´ç‚¹ä»€ä¹ˆï¼Ÿ',
            avatar: 'identicon',
            pageSize: '8',
            lang: 'zh-cn',
            visitor: 'true',
            recordIP: 'true',
            enableQQ: 'true',
            meta: ['nick', 'mail', 'link'],
            requiredFields: ['nick', 'mail'],
        });
    </script>

</body>
</html>
